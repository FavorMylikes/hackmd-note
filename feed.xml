<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="https://favormylikes.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://favormylikes.github.io/" rel="alternate" type="text/html" /><updated>2021-07-30T19:20:43+08:00</updated><id>https://favormylikes.github.io/feed.xml</id><title type="html">Notes B</title><subtitle>A place for notes on various topics.</subtitle><entry><title type="html">Double slash test</title><link href="https://favormylikes.github.io/tutorial/2021/07/29/Double-slash.html" rel="alternate" type="text/html" title="Double slash test" /><published>2021-07-29T15:37:00+08:00</published><updated>2021-07-29T15:37:00+08:00</updated><id>https://favormylikes.github.io/tutorial/2021/07/29/Double-slash</id><content type="html" xml:base="https://favormylikes.github.io/tutorial/2021/07/29/Double-slash.html">&lt;h2 id=&quot;render&quot;&gt;Render&lt;/h2&gt;

&lt;h3 id=&quot;no-dollar&quot;&gt;No dollar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;A&lt;/li&gt;
  &lt;li&gt;/A&lt;/li&gt;
  &lt;li&gt;//A&lt;/li&gt;
  &lt;li&gt;\A&lt;/li&gt;
  &lt;li&gt;\A&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;single-dollar&quot;&gt;Single dollar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;$A$&lt;/li&gt;
  &lt;li&gt;$/A$&lt;/li&gt;
  &lt;li&gt;$\A$&lt;/li&gt;
  &lt;li&gt;$//A$&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;double-dollar&quot;&gt;Double dollar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;div class=&quot;kdmath&quot;&gt;$$
A
$$&lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;div class=&quot;kdmath&quot;&gt;$$
/A
$$&lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;div class=&quot;kdmath&quot;&gt;$$
\\A
$$&lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;div class=&quot;kdmath&quot;&gt;$$
//A
$$&lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;matrix-with-single-dollar&quot;&gt;Matrix with Single Dollar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;single line
    &lt;ul&gt;
      &lt;li&gt;$\begin{bmatrix}1\2\3\end{bmatrix}$&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;multy line
    &lt;ul&gt;
      &lt;li&gt;$\begin{bmatrix}
    1\2\3
    \end{bmatrix}$&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;matrix-with-double-dollar&quot;&gt;Matrix with Double Dollar&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;single line
    &lt;ul&gt;
      &lt;li&gt;
        &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{bmatrix}1\\2\\3\end{bmatrix}
$$&lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;multy line
    &lt;ul&gt;
      &lt;li&gt;
        &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{bmatrix}
    1\\2\\3
    \end{bmatrix}
$$&lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;dollar-nesting&quot;&gt;Dollar nesting&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Eng
    &lt;ul&gt;
      &lt;li&gt;
        &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{cases}
      a=1 \text{here $a=1$}\\
      a=2 \text{here $a\neq 1$}\\
  \end{cases}
$$&lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Chinese
    &lt;ul&gt;
      &lt;li&gt;
        &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{cases}
      a=1 \text{这里 $a=1$}\\
      a=2 \text{那里 $a\neq 1$}\\
  \end{cases}
$$&lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;markdown-confict-with-katex&quot;&gt;Markdown confict with katex&lt;/h2&gt;

&lt;h3 id=&quot;two-method-for-rendering-katex&quot;&gt;Two method for rendering katex&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Render at server side
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://frankindev.com/2017/02/08/using-katex-in-jekyll/&quot;&gt;Jekyll 中使用 KaTeX SsKatex&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Not sure it could works or not.&lt;/li&gt;
      &lt;li&gt;You need set config at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;     &lt;span class=&quot;na&quot;&gt;kramdown&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
         &lt;span class=&quot;na&quot;&gt;math_engine&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;null&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;ul&gt;
      &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;math_engine&lt;/code&gt; be set &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mathjax&lt;/code&gt; as default&lt;/li&gt;
      &lt;li&gt;If you wanna use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;javascript&lt;/code&gt; for rendering, you’d better set it be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;null&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;For more selection for it, check &lt;a href=&quot;https://kramdown.gettalong.org/options.html#option-math-engine&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Render at client side
-. Require you have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;katex.js&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;katex.css&lt;/code&gt; at head, katex will render when you brower open.
-. So you need consider about the order of rendering markdown and katex
-. For example, you have a md file like&lt;/p&gt;

    &lt;div class=&quot;language-markdown highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; $ABC&lt;span class=&quot;ge&quot;&gt;*$123$DE*&lt;/span&gt;F$
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;p&gt;-. It will convert &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$123$DE$&lt;/code&gt; as &lt;em&gt;Italic&lt;/em&gt; first
-. And then the rendering for katex&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;</content><author><name></name></author><category term="tutorial" /><summary type="html">Render</summary></entry><entry><title type="html">Jekyll+Github page+Gihub Actions</title><link href="https://favormylikes.github.io/tutorial/2021/07/28/Jekyll-Github-page-Gihub-Actions.html" rel="alternate" type="text/html" title="Jekyll+Github page+Gihub Actions" /><published>2021-07-28T10:32:00+08:00</published><updated>2021-07-28T10:32:00+08:00</updated><id>https://favormylikes.github.io/tutorial/2021/07/28/Jekyll-Github-page-Gihub-Actions</id><content type="html" xml:base="https://favormylikes.github.io/tutorial/2021/07/28/Jekyll-Github-page-Gihub-Actions.html">&lt;h2 id=&quot;尝试使用github-pages&quot;&gt;尝试使用github pages&lt;/h2&gt;

&lt;h3 id=&quot;主要组件&quot;&gt;主要组件&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://jekyllcn.com&quot;&gt;Jekyll&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;静态网站生成器&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Github Actions&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;需要项目下存在&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.github/workflows/*.yml&lt;/code&gt;, 作为&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Github Actions&lt;/code&gt;的扫描程序&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/marketplace&quot;&gt;Action marketplace&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;, 根目录下，&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Jekyll&lt;/code&gt;运行时需要的配置&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ruby
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;  ruby 需要的版本&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt; ruby 一台机器已经安装各个组件的具体版本以及依赖条件&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;运行流程&quot;&gt;运行流程&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://i.loli.net/2021/07/29/weIDpHRvW9XB5Cu.png&quot; width=&quot;400px&quot; alt=&quot;1627526442(1)&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Actions扫描workflows下的配置文件寻找job&lt;/li&gt;
  &lt;li&gt;Actions按照顺序依次执行&lt;/li&gt;
  &lt;li&gt;ruby 按照Gemfile.lock的文件安装指定组件版本&lt;/li&gt;
  &lt;li&gt;ruby拿到_config.yml的配置之后依次执行
    &lt;ol&gt;
      &lt;li&gt;主题
        &lt;ol&gt;
          &lt;li&gt;dash&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;插件
        &lt;ol&gt;
          &lt;li&gt;jekyll-feed&lt;/li&gt;
          &lt;li&gt;jekyll/tagging&lt;/li&gt;
          &lt;li&gt;jekyll-paginate
            &lt;ol&gt;
              &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;paginate&lt;/code&gt;: 5 # 分页数&lt;/li&gt;
              &lt;li&gt;paginate_path: “/page:num/”  # 扫描位置&lt;/li&gt;
            &lt;/ol&gt;
          &lt;/li&gt;
          &lt;li&gt;kramdown-math-katex&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&quot;参考&quot;&gt;参考&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;minusgix.github.io&quot;&gt;minusgix.github.io&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://i.loli.net/2021/07/29/dvO7q5fJcZ8CKVg.png&quot; width=&quot;400px&quot; alt=&quot;20210729105618&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/MinusGix/minusgix.github.io&quot;&gt;git&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mma.iydon.top/&quot;&gt;南方科技大学数学建模协会&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://i.loli.net/2021/07/29/S2QE5VHcbLBZK6a.png&quot; width=&quot;400px&quot; alt=&quot;20210729105755&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/SUSTech-MMA/sustech-mma.github.io&quot;&gt;git&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;需要本地构建&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://leopardpan.github.io&quot;&gt;leopardpan&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;效果同上&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/leopardpan/leopardpan.github.io&quot;&gt;git&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://actions-gh-pages.peaceiris.com/&quot;&gt;actions-gh-pages&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/peaceiris/actions-gh-pages&quot;&gt;git&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="tutorial" /><summary type="html">尝试使用github pages</summary></entry><entry><title type="html">Build Blog System</title><link href="https://favormylikes.github.io/tutorial/2021/07/28/Build-Blog-System.html" rel="alternate" type="text/html" title="Build Blog System" /><published>2021-07-28T10:32:00+08:00</published><updated>2021-07-28T10:32:00+08:00</updated><id>https://favormylikes.github.io/tutorial/2021/07/28/Build-Blog-System</id><content type="html" xml:base="https://favormylikes.github.io/tutorial/2021/07/28/Build-Blog-System.html">&lt;h2 id=&quot;build-blog-system-by-github-pages-and-jekyll&quot;&gt;Build Blog System by Github pages and jekyll&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;markdown
    &lt;ol&gt;
      &lt;li&gt;github use GFM[GitHub Flavored Markdown]
        &lt;ol&gt;
          &lt;li&gt;resizing image only support by inner html code like&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;img src=&quot;src&quot;, alt=&quot;&quot;, weight=&quot;&quot;&amp;gt;&amp;lt;/img&amp;gt;&lt;/code&gt;&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;kramdown
        &lt;ol&gt;
          &lt;li&gt;resizing image by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;![](){height:&quot;100px&quot;}&lt;/code&gt;&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;hackmd
        &lt;ol&gt;
          &lt;li&gt;resizing image by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;![](src... =100x100)&lt;/code&gt;&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;markdownlint &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MD033&lt;/code&gt; does not recommand for inner html&lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;finily I disable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MD033&lt;/code&gt; in vscode by setting&lt;/p&gt;

        &lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nl&quot;&gt;&quot;markdownlint.config&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;MD033&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;component&quot;&gt;Component&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_includes\head\custom.html&amp;lt;head&amp;gt;&lt;/code&gt;to overload katex render
    &lt;ul&gt;
      &lt;li&gt;cause as a jekyll theme &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;minimal-mistakes-jekyll&lt;/code&gt;, you can override any &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_includes&lt;/code&gt; file by your own file with the same name&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;limjh16/jekyll-action-ts@v2&lt;/code&gt; to build site file
    &lt;ul&gt;
      &lt;li&gt;this component require Gemfile.lock&lt;/li&gt;
      &lt;li&gt;cause &lt;a href=&quot;https://github.com/limjh16/jekyll-action-ts/blob/9edf74e2e5aaa10d272c427efb8702a45a70a0b2/src/main.ts#L157&quot;&gt;&lt;img src=&quot;https://i.loli.net/2021/07/29/fO1NCPuslEaTYIx.png&quot; alt=&quot;20210729214617&quot; /&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;so if you need update your Gemfile for any reason, before &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git push&lt;/code&gt;, you’d better run&lt;/p&gt;

        &lt;pre&gt;&lt;code class=&quot;language-gem&quot;&gt;bundle lock --update --add-platform x86_64-linux --remove-platform x64-mingw32
&lt;/code&gt;&lt;/pre&gt;

        &lt;p&gt;&lt;img src=&quot;https://i.loli.net/2021/07/29/o8DiY5TLvEJd4HS.png&quot; alt=&quot;20210729215017&quot; /&gt;&lt;/p&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;peaceiris/actions-gh-pages@v3&lt;/code&gt; to push file to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;site&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;nothing need talk about&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;katex
    &lt;ul&gt;
      &lt;li&gt;setting with js&lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class=&quot;language-js highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addEventListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;DOMContentLoaded&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;renderMathInElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;na&quot;&gt;delimiters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;$$&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;$$&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;left&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;right&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;dl&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;display&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;ul&gt;
      &lt;li&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;display&lt;/code&gt; here mean css style &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;block&lt;/code&gt;, if change it to true, the formular will be center and block there.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;gem “therubyracer”
    &lt;ul&gt;
      &lt;li&gt;this a js engine&lt;/li&gt;
      &lt;li&gt;and you can choose one from [&lt;a href=&quot;https://github.com/cowboyd/therubyracer#therubyracer&quot;&gt;therubyracer&lt;/a&gt;, &lt;a href=&quot;https://github.com/cowboyd/therubyrhino#therubyrhino&quot;&gt;therubyrhino&lt;/a&gt;, &lt;a href=&quot;https://github.com/judofyr/duktape.rb#duktaperb&quot;&gt;duktape&lt;/a&gt;, &lt;a href=&quot;https://nodejs.org/&quot;&gt;Node.js&lt;/a&gt;]&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;jekyll-theme&quot;&gt;Jekyll Theme&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;config it at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;theme: minimal-mistakes-jekyll&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;add dependency at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gem &quot;minimal-mistakes-jekyll&quot;&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/mmistakes/minimal-mistakes&quot;&gt;minimal-mistakes-jekyll&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;there’s other theme you can use
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dash&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;select from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;github pages&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;useful-link&quot;&gt;Useful link&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gendignoux.com/blog/2020/05/23/katex.html#adding-katex-resources-to-a-blog-post&quot;&gt;How I blog about math: an update on KaTeX with Jekyll&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://frankindev.com/2017/02/08/using-katex-in-jekyll/&quot;&gt;Jekyll 中使用 KaTeX SsKatex&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://mmistakes.github.io/minimal-mistakes/docs/quick-start-guide/#remote-theme-method&quot;&gt;minimal-mistakes/docs/quick-start-guide&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/mmistakes/mm-github-pages-starter&quot;&gt;mm-github-pages-starter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="tutorial" /><summary type="html">Build Blog System by Github pages and jekyll</summary></entry><entry><title type="html">Robotics Perception week 1</title><link href="https://favormylikes.github.io/coursera/3d/2021/07/27/Robotics-Perception-week-1.html" rel="alternate" type="text/html" title="Robotics Perception week 1" /><published>2021-07-27T10:38:00+08:00</published><updated>2021-07-27T10:38:00+08:00</updated><id>https://favormylikes.github.io/coursera/3d/2021/07/27/Robotics-Perception-week-1</id><content type="html" xml:base="https://favormylikes.github.io/coursera/3d/2021/07/27/Robotics-Perception-week-1.html">&lt;h2 id=&quot;准备看点摄像机视觉&quot;&gt;准备看点摄像机视觉&lt;/h2&gt;

&lt;h3 id=&quot;week1&quot;&gt;Week1&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727143124.png&quot; width=&quot;400px&quot; alt=&quot;20210727143124&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;camera-modeling&quot;&gt;Camera Modeling&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727113340.png&quot; width=&quot;400px&quot; alt=&quot;20210727113340&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;$\frac{1}{f} = \frac{1}{a} + \frac{1}{b}$
    &lt;ul&gt;
      &lt;li&gt;$f$焦距， $a$, 物体到透镜的位置, $b$, 透镜到成像的位置&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;$\frac{Y}{a}=\frac{y}{b}$
    &lt;ul&gt;
      &lt;li&gt;$Y$物体大小, $y$像的大小&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;single-view-geometry&quot;&gt;Single View Geometry&lt;/h4&gt;

&lt;ul&gt;
  &lt;li&gt;平面图到透视图
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727142444.png&quot; width=&quot;400px&quot; alt=&quot;20210727142444&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;$o^\star$为眼睛位置&lt;/li&gt;
      &lt;li&gt;$S$为垂足&lt;/li&gt;
      &lt;li&gt;$OS=O^\star$, 因此$\angle{SOO^\star}=45\degree$&lt;/li&gt;
      &lt;li&gt;$P$为平面图上一点&lt;/li&gt;
      &lt;li&gt;连接$P-O$交图像平面$M$&lt;/li&gt;
      &lt;li&gt;连接$P-O^\star$交图像平面$P^\star$&lt;/li&gt;
      &lt;li&gt;$\triangle MLP^\star\sim\triangle OSO^\star$&lt;/li&gt;
      &lt;li&gt;$\angle LMP’$为$45\degree$&lt;/li&gt;
      &lt;li&gt;$\triangle MLP^\star=\triangle MLP’$, 即，将成像面的点$P^\star$映射到平面$P’$变为透视图&lt;/li&gt;
      &lt;li&gt;因此，$P’$是$P$关于$ML$对称的透视图&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://dd.salgoodsam.com/the-walls-bend/&quot;&gt;多透视点画法&lt;/a&gt;&lt;a href=&quot;http://kimjunggi.net/&quot;&gt;Kim Jung Gi&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727155712.png&quot; width=&quot;400px&quot; alt=&quot;20210727155712&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;投影面[Projective Plane]
    &lt;ul&gt;
      &lt;li&gt;投影面上的点$(x,y)$可以视为，视点向外发出的射线$(s_x, s_y, s)$&lt;/li&gt;
      &lt;li&gt;homogeneous coordinates[齐次坐标]
        &lt;ul&gt;
          &lt;li&gt;引入新的维度，表示无限远处的坐标&lt;/li&gt;
          &lt;li&gt;$(x,y)\rightarrow(x,y,1)$, $1$表示投影面距离&lt;/li&gt;
          &lt;li&gt;$(x,y,0)$表示无限远处的点&lt;/li&gt;
          &lt;li&gt;$(0,0,1)$表示无限远处的线&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;投影面上的直线
        &lt;ul&gt;
          &lt;li&gt;$ax+by+c=0$&lt;/li&gt;
          &lt;li&gt;vector notation
&lt;span class=&quot;kdmath&quot;&gt;$0=\begin{bmatrix}
    a&amp;b&amp;c
\end{bmatrix}\begin{bmatrix}
    x\\y\\1
\end{bmatrix}$&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727205253.png&quot; width=&quot;400px&quot; alt=&quot;20210727205253&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;极坐标$\rho = x\cos\theta + y\sin\theta$
            &lt;ul&gt;
              &lt;li&gt;$\rho$原点到直线的距离&lt;/li&gt;
              &lt;li&gt;$\theta$线与x夹角&lt;/li&gt;
              &lt;li&gt;$\cos\theta = \frac{a}{\sqrt{a^2+b^2}}$&lt;/li&gt;
              &lt;li&gt;$\sin\theta = \frac{b}{\sqrt{a^2+b^2}}$&lt;/li&gt;
              &lt;li&gt;$\rho = -\frac{c}{\sqrt{a^2+b^2}}$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;叉乘法
            &lt;ul&gt;
              &lt;li&gt;点$A=(x_1, y_1, 1)$, 点$B=(x_2, y_2, 1)$&lt;/li&gt;
              &lt;li&gt;想象AB分别为视点发出的两个射线与投影面相交，则$A\times B$为一平面的法向量，法向量与投影面相交即为投影面直线&lt;/li&gt;
              &lt;li&gt;标准化$I=\frac{A\times B}{|A\times B|}$&lt;/li&gt;
              &lt;li&gt;其次化$I=\frac{A\times B}{[A\times B]_{[3]}}$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;旋转和平移
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727214303.png&quot; width=&quot;400px&quot; alt=&quot;20210727214303&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;$[X_w, Y_w, Z_w]$ 世界坐标系 world coordinate&lt;/li&gt;
      &lt;li&gt;$[X_c, Y_c, Z_c]$ 相机坐标系 camera coordinate&lt;/li&gt;
      &lt;li&gt;$[X_b, Y_b, Z_b]$ 机体坐标系 body coordinate&lt;/li&gt;
      &lt;li&gt;$^cP$ 相机坐标，$^wP$世界坐标&lt;/li&gt;
      &lt;li&gt;${}^cP={}^cP_w{}^wP+{}^cT_w$&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Pinhole Camera Model[小孔成像模型]
    &lt;ul&gt;
      &lt;li&gt;Dolly room&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/1627438658.jpg&quot; width=&quot;400px&quot; alt=&quot;1627438658&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;相机从$O$点向右移动$pos$, 成像面，$h_1=h_1’$&lt;/li&gt;
      &lt;li&gt;$ref$表示移动前的数据&lt;/li&gt;
      &lt;li&gt;物体高度$H_1,H_2$&lt;/li&gt;
      &lt;li&gt;若已知$H_1, pos, d_{1,ref}$ 求 $f$
        &lt;ul&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      \frac{h_1}{f_{ref}} = \frac{H_1}{d_{1,ref}}&amp;, \frac{h_1'}{f} = \frac{H_1}{d_{1,ref}-pos}\\
      \frac{f_{ref}}{d_{1,ref}}&amp;=\frac{f}{d_{1,ref}-pos}\\
      f &amp;= (d_{1,ref}-pos)\frac{f_{ref}}{d_{1,ref}}
  \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;若已知$H_1, H_2, d_{1,ref}, d_{2,ref}, r=\frac{h_1’}{h_2’}, f_{ref}$，求$f, pos$, 利用一个像的大小不变，移动相机， 根据另外一个像的比例，计算焦距和移动距离
        &lt;ul&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      &amp;\begin{cases}
          \frac{H_1}{d_{1,ref}}&amp;=\frac{h_1}{f_{ref}}&amp;(1)\\
          \frac{H_2}{d_{2,ref}}&amp;=\frac{h_2}{f_{ref}}&amp;(2)\\
          \frac{H_1}{d_{1,ref}-pos}&amp;=\frac{h_1'}{f}&amp;(3)\\
          \frac{H_2}{d_{2,ref}-pos}&amp;=\frac{h_2'}{f}&amp;(4)\\
      \end{cases}\\
      \frac{h_1}{f}&amp;=\frac{H_1}{d_{1,ref}-pos}=r\frac{H_2}{d_{2,ref}-pos}&amp;(3)(4)联立\\
      pos&amp;=\frac{rH_2d_{1,ref} - H_1d_{2,ref}}{rH_2-H_1}\\
      h_1&amp;=f_{ref}\frac{H_1}{d_{1,ref}}=rf\frac{H_2}{d_{2,ref} - pos}&amp;(1)(3)联立\\
      f &amp;= (d_{1,ref}-pos)\frac{f_{ref}}{d_{1,ref}}
  \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Compute intrinsics from vanishing point
    &lt;ul&gt;
      &lt;li&gt;image center
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210727234520.png&quot; width=&quot;400px&quot; alt=&quot;20210727234520&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;$A,B,C$, 灭点&lt;/li&gt;
          &lt;li&gt;$AB$, 地平线&lt;/li&gt;
          &lt;li&gt;$C$, 垂线灭点&lt;/li&gt;
          &lt;li&gt;$O$, 相机投影中心&lt;/li&gt;
          &lt;li&gt;$\angle BOC=\angle AOC=\angle AOB=90\degree$&lt;/li&gt;
          &lt;li&gt;$H$为$\triangle ABC$垂心&lt;/li&gt;
          &lt;li&gt;$OH\perp \triangle ABC$&lt;/li&gt;
          &lt;li&gt;$H$为image center&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;force length
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210728000136.png&quot; alt=&quot;20210728000136&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      &amp;\because \triangle_{\perp}AOB, OD\perp AB\\
      &amp;\therefore h^2=d_1d_2\\
      &amp;\because \triangle_{\perp}DHO\\
      &amp;\therefore f^2=d_3^2+h^2\\
      &amp;\therefore f = \sqrt{d_3^2 + d_1d_2}
  \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="coursera" /><category term="3D" /><summary type="html">准备看点摄像机视觉</summary></entry><entry><title type="html">Coordinate System in Dynamic</title><link href="https://favormylikes.github.io/zhihu/coursera/2021/07/26/Coordinate-System-in-Dynamic.html" rel="alternate" type="text/html" title="Coordinate System in Dynamic" /><published>2021-07-26T11:02:00+08:00</published><updated>2021-07-26T11:02:00+08:00</updated><id>https://favormylikes.github.io/zhihu/coursera/2021/07/26/Coordinate-System-in-Dynamic</id><content type="html" xml:base="https://favormylikes.github.io/zhihu/coursera/2021/07/26/Coordinate-System-in-Dynamic.html">&lt;h2 id=&quot;准备搞明白泛函&quot;&gt;准备搞明白泛函&lt;/h2&gt;

&lt;h3 id=&quot;无人机的动力学系统&quot;&gt;无人机的动力学系统&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;动力系统
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210726104110.png&quot; alt=&quot;20210726104110&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;惯性系[inertial frame]$\mathbf{A}$
        &lt;ul&gt;
          &lt;li&gt;3个转轴$a_1, a_2, a_3$&lt;/li&gt;
          &lt;li&gt;原点$O$&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;随体系[body frame]或固连系[body-fixed frame]或体坐标系[body coordinate]$\mathbf{B}$
        &lt;ul&gt;
          &lt;li&gt;3个转轴$b_1, b_2, b_3$&lt;/li&gt;
          &lt;li&gt;原点$C$&lt;/li&gt;
          &lt;li&gt;$L$为旋翼到质心的距离&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;这个体系描述了这样一种运动
        &lt;ul&gt;
          &lt;li&gt;刚体从O点移动到C点，并且进行了旋转变换，此时由于随体系与刚体保持不动，因此随体系坐标不变，而随体系相对于惯性系存在变化，因此旋转矩阵是描述刚体旋转后的惯性系坐标变换&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;旋转矩阵$\mathbf{R}$[同一个点到两个坐标系的运算]
        &lt;ul&gt;
          &lt;li&gt;欧拉角[刚体的转动可以视为绕不同的轴，独立转动3次]&lt;/li&gt;
          &lt;li&gt;如果不考虑位移[位移可以通过向量加法单独运算]，那么刚体仅存在旋转运动
            &lt;ul&gt;
              &lt;li&gt;Z-X-Y顺序旋转[顺序不一定是Z-X-Y，也可能是Z-X-Z或其他，但运算矩阵要一致]&lt;/li&gt;
              &lt;li&gt;旋转矩阵$R$&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
    R
    &amp;= R_{Z(\psi)}R_{X(\phi)}R_{Y(\theta)}\\
    &amp;=\begin{bmatrix}
    \cos{(\psi)} &amp; -\sin{(\psi)} &amp; 0\\
    \sin{(\psi)} &amp; \cos{(\psi)} &amp; 0\\
    0 &amp; 0 &amp; 1
    \end{bmatrix}
    \begin{bmatrix}
    1&amp;0&amp;0\\
    0&amp;\cos{(\phi)} &amp; -\sin{(\phi)}\\
    0&amp;\sin{(\phi)} &amp; \cos{(\phi)}\\
    \end{bmatrix}
    \begin{bmatrix}
    \cos{(\theta )} &amp; 0 &amp; \sin{(\theta )}\\
    0 &amp; 1 &amp; 0\\
    - \sin{(\theta)} &amp; 0 &amp; \cos{(\theta )}
    \end{bmatrix}\\
    &amp;=\begin{bmatrix}- s(\theta ) s(\phi ) s(\psi ) + c(\theta ) c(\psi ) &amp; - s(\psi ) c(\phi ) &amp; s(\theta ) c(\psi ) + s(\phi ) s(\psi ) c(\theta )\\s(\theta ) s(\phi ) c(\psi ) + s(\psi ) c(\theta ) &amp; c(\phi ) c(\psi ) &amp; s(\theta ) s(\psi ) - s(\phi ) c(\theta ) c(\psi )\\- s(\theta ) c(\phi ) &amp; s(\phi ) &amp; c(\theta ) c(\phi )\end{bmatrix}&amp;\text{$s\rightarrow \sin, c \rightarrow \cos$}
  \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;初始时，假定$\mathbf{p}$为惯性系坐标，此时惯性系和随体系并未发生变换，因此，$\mathbf{p}$也可以表示随体系坐标，当刚体发生旋转后，随体系下坐标并未发生变化，$\mathbf{q}=R\mathbf{p}$描述了随体系坐标到新的惯性系坐标的变换&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;速度
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
        \dot \mathbf{q}&amp;=\dot R\mathbf{p} + R\mathbf{\dot p}\\
        &amp;=\dot R\mathbf{p}&amp;\text{$\mathbf{p}$为常数时,$\dot \mathbf{q}=0$}\\
    \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;此时旋转后的点的速度仅取决于$R$对于时间$t$的导数&lt;/li&gt;
              &lt;li&gt;$R^T\dot \mathbf{q} = R^T\dot R\mathbf{p}$, 两侧同时乘$R^T$, 即旋转矩阵的逆操作&lt;/li&gt;
              &lt;li&gt;$R^T\dot \mathbf{q}$为随体系中的速度&lt;/li&gt;
              &lt;li&gt;$R^T\dot R$为随体系的角速度，记为$\hat \omega^b$
                &lt;ul&gt;
                  &lt;li&gt;$b$表示body frame&lt;/li&gt;
                  &lt;li&gt;$\hat \omega$是一种特殊记法，由于角速度中仅有3个独立的量，而$R^T\dot R$表示一个矩阵，为了简便记录，用$\hat \omega$代替&lt;/li&gt;
                  &lt;li&gt;若$\omega = [\omega_1, \omega_2, \omega_3]$
&lt;span class=&quot;kdmath&quot;&gt;$\hat \omega = \begin{bmatrix}0&amp;-\omega_3&amp;\omega_2\\\omega_3&amp;0&amp;-\omega_1\\-\omega_2&amp;\omega_1&amp;0\end{bmatrix}$&lt;/span&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;又有
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
    \dot \mathbf{q} &amp;= \dot R\mathbf{p}\\
    &amp;=\dot RR^T\mathbf{q}&amp;\text{$\mathbf{p}$为$\mathbf{q}$的逆向旋转}
\end{aligned}$&lt;/span&gt;
                &lt;ul&gt;
                  &lt;li&gt;$\dot \mathbf{q}$为惯性系速度&lt;/li&gt;
                  &lt;li&gt;$\dot RR^T$为惯性系角速度，记为$\hat \omega^s$&lt;/li&gt;
                  &lt;li&gt;$s$表示spatial[&lt;strong&gt;空间&lt;/strong&gt;]&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;角速度计算
            &lt;ul&gt;
              &lt;li&gt;以$z$轴为例子
                &lt;ul&gt;
                  &lt;li&gt;
                    &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      R_{z(\psi)} &amp;= \begin{bmatrix}
      \cos{(\psi)} &amp; -\sin{(\psi)} &amp; 0\\
      \sin{(\psi)} &amp; \cos{(\psi)} &amp; 0\\
      0 &amp; 0 &amp; 1
      \end{bmatrix}\\
      \hat \omega^b
      &amp;=R^T\dot R\\
      &amp;= \begin{bmatrix}
          \cos{(\psi)} &amp; \sin{(\psi)} &amp; 0\\
          -\sin{(\psi)} &amp; \cos{(\psi)} &amp; 0\\
          0 &amp; 0 &amp; 1
      \end{bmatrix}
      \begin{bmatrix}
          -\sin{(\psi)} &amp; \cos{(\psi)} &amp; 0\\
          \cos{(\psi)} &amp; -\sin{(\psi)} &amp; 0\\
          0 &amp; 0 &amp; 0
      \end{bmatrix}\dot \psi\\
      &amp;=\begin{bmatrix}
          0&amp;-1&amp;0\\
          1&amp;0&amp;0\\
          0&amp;0&amp;0
      \end{bmatrix}\dot \psi\\
      \hat \omega^s&amp;=\dot RR^T\\
      &amp;=\dot \psi\begin{bmatrix}
          -\sin{(\psi)} &amp; \cos{(\psi)} &amp; 0\\
          \cos{(\psi)} &amp; -\sin{(\psi)} &amp; 0\\
          0 &amp; 0 &amp; 0
      \end{bmatrix}
      \begin{bmatrix}
          \cos{(\psi)} &amp; \sin{(\psi)} &amp; 0\\
          -\sin{(\psi)} &amp; \cos{(\psi)} &amp; 0\\
          0 &amp; 0 &amp; 1
      \end{bmatrix}\\
      &amp;=\dot \psi\begin{bmatrix}
          0&amp;-1&amp;0\\
          1&amp;0&amp;0\\
          0&amp;0&amp;0
      \end{bmatrix}\\
  \end{aligned}
$$&lt;/div&gt;
                  &lt;/li&gt;
                  &lt;li&gt;此时因为旋转轴为$z$, 注意向量上方的$\hat {\omega}$
   &lt;span class=&quot;kdmath&quot;&gt;$\hat \omega^b=\hat \omega^s=\hat{\begin{bmatrix}0\\0\\1\end{bmatrix}}$&lt;/span&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;多轴例子[由于转轴非常轴，因此两个参考系内的结果并不一样]
                &lt;ul&gt;
                  &lt;li&gt;
                    &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      R&amp;= R_{Z(\psi)}R_{X(\phi)}R_{Y(\theta)}\\
      \hat \omega^b&amp;=R^T\dot R\\
      &amp;=(R_ZR_XR_Y)^T(\dot R_ZR_XR_Y + R_Z\dot R_X R_Y + R_ZR_X\dot R_Y)\\
      &amp;=R_Y^TR_X^TR_Z^T(\dot R_ZR_XR_Y + R_Z\dot R_X R_Y + R_ZR_X\dot R_Y)\\
      &amp;=R_Y^TR_X^TR_Z^T\dot R_ZR_XR_Y+R_Y^TR_X^T\dot R_XR_Y + R_Y^T\dot R_Y\\
      \hat \omega^s&amp;=\dot RR^T\\
      &amp;=(\dot R_ZR_XR_Y + R_Z\dot R_X R_Y + R_ZR_X\dot R_Y)(R_ZR_XR_Y)^T\\
      &amp;=(\dot R_ZR_XR_Y + R_Z\dot R_X R_Y + R_ZR_X\dot R_Y)R_Y^TR_X^TR_Z^T\\
      &amp;=\dot R_ZR_Z^T + R_Z\dot R_XR_X^TR_Z^T+R_ZR_X\dot R_YR_Y^TR_X^TR_Z^T
  \end{aligned}
$$&lt;/div&gt;
                  &lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;无人机角速度推导
                &lt;ul&gt;
                  &lt;li&gt;&lt;a href=&quot;https://zinghd.gitee.io/kinematics-euler-angle-model/&quot;&gt;参考文章 - zinghd.gitee.io&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/a735148617/article/details/116740453&quot;&gt;欧拉角速度与角速度的关系推导——欧拉运动方程 (存在公式错误)&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/86468301&quot;&gt;（番外）姿态与旋转矩阵（II） - Tam Alex的文章 - 知乎&lt;/a&gt;
                    &lt;ul&gt;
                      &lt;li&gt;&lt;strong&gt;使用上述文章的推导&lt;/strong&gt;(与文章推导结果不一致，需要取逆或转置)
                        &lt;ul&gt;
                          &lt;li&gt;
                            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      \begin{bmatrix}
          p\\
          q\\
          r
      \end{bmatrix}
      &amp;=
      (R_XR_Y)^T
      \begin{bmatrix}
          0\\0\\\dot \psi
      \end{bmatrix}
      +
      R_Y^T
      \begin{bmatrix}
          \dot\phi\\0\\0
      \end{bmatrix}
      +
      \begin{bmatrix}
          0\\\dot \theta\\0
      \end{bmatrix}\\
      &amp;=\begin{bmatrix}
          c\theta&amp;0&amp;-c\phi s\theta\\
          0&amp;1&amp;s\phi\\
          s\theta&amp;0&amp;c\phi c\theta
      \end{bmatrix}
      \begin{bmatrix}
          \dot \phi\\
          \dot \theta\\
          \dot \psi\\
      \end{bmatrix}
  \end{aligned}
$$&lt;/div&gt;
                          &lt;/li&gt;
                        &lt;/ul&gt;
                      &lt;/li&gt;
                      &lt;li&gt;&lt;strong&gt;直接使用$\hat \omega$公式&lt;/strong&gt;
                        &lt;ul&gt;
                          &lt;li&gt;
                            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      \hat \omega^s&amp;=\dot R_ZR_Z^T + R_Z\dot R_XR_X^TR_Z^T+R_ZR_X\dot R_YR_Y^TR_X^TR_Z^T\\
      &amp;=\begin{bmatrix}
          0 &amp; - \dot \psi - \dot \theta s{(\phi )} &amp; \dot \phi s{(\psi )} + \dot \theta c{(\phi )} c{(\psi )}\\
          \dot \psi + \dot \theta s{(\phi )} &amp; 0 &amp; - \dot \phi c{(\psi )} + \dot \theta s{(\psi )} c{(\phi )}\\- \dot \phi s{(\psi )} - \dot \theta c{(\phi )} c{(\psi )} &amp; \dot \phi c{(\psi )} - \dot \theta s{(\psi )} c{(\phi )} &amp; 0
      \end{bmatrix}\\
      &amp;=\hat {
      \begin{bmatrix}
          \dot \phi c{(\psi )} - \dot \theta s{(\psi )} c{(\phi )}\\
          \dot \phi s{(\psi )} + \dot \theta c{(\phi )} c{(\psi )}\\
          \dot \psi + \dot \theta s{(\phi )}
      \end{bmatrix}}&amp;\text{注意符号}\\
      &amp;=\hat {
          \begin{bmatrix}
              c(\psi)&amp;-s(\psi)c(\phi)&amp;0\\
              s(\psi)&amp;c(\phi)s(\phi)&amp;0\\
              0&amp;s(\phi)&amp;1
          \end{bmatrix}
          \begin{bmatrix}
              \dot \phi\\
              \dot \theta\\
              \dot \psi
          \end{bmatrix}
      }\\
      \omega^s&amp;=\begin{bmatrix}
              c(\psi)&amp;-s(\psi)c(\phi)&amp;0\\
              s(\psi)&amp;c(\phi)s(\phi)&amp;0\\
              0&amp;s(\phi)&amp;1
          \end{bmatrix}
          \begin{bmatrix}
              \dot \phi\\
              \dot \theta\\
              \dot \psi
          \end{bmatrix}\\
  \hat \omega^b&amp;=R_Y^TR_X^TR_Z^T\dot R_ZR_XR_Y+R_Y^TR_X^T\dot R_XR_Y + R_Y^T\dot R_Y\\
  &amp;=\begin{bmatrix}
  0 &amp; - \dot \phi s{(\theta )} - \dot \psi c{(\phi )} c{(\theta )} &amp; \dot \psi s{(\phi )} + \dot \theta\\
  \dot \phi s{(\theta )} + \dot \psi c{(\phi )} c{(\theta )} &amp; 0 &amp; - \dot \phi c{(\theta )} + \dot \psi s{(\theta )} c{(\phi )}\\  - \dot \psi s{(\phi )} - \dot \theta &amp; \dot \phi c{(\theta )} - \dot \psi s{(\theta )} c{(\phi )} &amp; 0\end{bmatrix}\\
  &amp;=\hat {
  \begin{bmatrix}
      \dot \phi c{(\theta )} - \dot \psi s{(\theta )} c{(\phi )}\\
      \dot \psi s{(\phi )} + \dot \theta\\
      \dot \phi s{(\theta )} + \dot \psi c{(\phi )} c{(\theta )}
  \end{bmatrix}}&amp;\text{注意符号}\\
  &amp;=\hat {
      \begin{bmatrix}
          c(\theta)&amp;0&amp;-s(\theta)c(\phi)\\
          0&amp;1&amp;s(\phi)\\
          s(\theta)&amp;0&amp;c(\phi)c(\theta)
      \end{bmatrix}
      \begin{bmatrix}
          \dot \phi\\
          \dot \theta\\
          \dot \psi
      \end{bmatrix}
  }\\
  \omega^b&amp;=\begin{bmatrix}
          c(\theta)&amp;0&amp;-s(\theta)c(\phi)\\
          0&amp;1&amp;s(\phi)\\
          s(\theta)&amp;0&amp;c(\phi)c(\theta)
      \end{bmatrix}
      \begin{bmatrix}
          \dot \phi\\
          \dot \theta\\
          \dot \psi
      \end{bmatrix}
  \end{aligned}
$$&lt;/div&gt;
                          &lt;/li&gt;
                        &lt;/ul&gt;
                      &lt;/li&gt;
                    &lt;/ul&gt;
                  &lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;牛顿欧拉方程[Newton-Euler’s Equation]
        &lt;ul&gt;
          &lt;li&gt;牛顿方程
&lt;span class=&quot;kdmath&quot;&gt;$\mathbf{r}=\begin{bmatrix}
    x\\y\\z
  \end{bmatrix}$&lt;/span&gt;
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
m\mathbf{\ddot r}
&amp;= R\begin{bmatrix}
    0\\0\\F_1+F_2+F_3+F_4
\end{bmatrix}-\begin{bmatrix}0\\0\\mg\end{bmatrix}\\
&amp;= R\begin{bmatrix}
    0\\0\\u_1
\end{bmatrix}-\begin{bmatrix}0\\0\\mg\end{bmatrix}\\
\end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;欧拉方程
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
    I \begin{bmatrix}
        \dot p\\
        \dot q\\
        \dot r
    \end{bmatrix}
    &amp;=\begin{bmatrix}
        L(F_2-F_4)\\
        L(F_3-F_1)\\
        M_1-M_2+M_3-M_4
    \end{bmatrix}-
    \begin{bmatrix}
        p\\
        q\\
        r\\
    \end{bmatrix}
    \times
    I
    \begin{bmatrix}
        p\\q\\r
    \end{bmatrix}\\
    &amp;=\begin{bmatrix}
        0&amp;L&amp;0&amp;L\\
        -L&amp;0&amp;L&amp;0\\
        \gamma&amp;-\gamma&amp;\gamma&amp;-\gamma
    \end{bmatrix}
    \begin{bmatrix}
        F_1\\F_2\\F_3\\F_4
    \end{bmatrix}
    -
    \begin{bmatrix}
        p\\
        q\\
        r\\
    \end{bmatrix}
    \times
    I
    \begin{bmatrix}
        p\\q\\r
    \end{bmatrix}&amp;\text{$\gamma=\frac{k_M}{k_F}$, 无人机的参数，用于计算转动惯量}\\
    \mathbf{u_2}&amp;=\begin{bmatrix}
        0&amp;L&amp;0&amp;L\\
        -L&amp;0&amp;L&amp;0\\
        \gamma&amp;-\gamma&amp;\gamma&amp;-\gamma
    \end{bmatrix}
    \begin{bmatrix}
        F_1\\F_2\\F_3\\F_4
    \end{bmatrix}\\
    I_{xx}\ddot \phi &amp;= L(F_2-F_4)&amp;\text{角加速度}
  \end{aligned}$&lt;/span&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="zhihu" /><category term="coursera" /><summary type="html">准备搞明白泛函</summary></entry><entry><title type="html">E-L Equation</title><link href="https://favormylikes.github.io/zhihu/2021/07/25/E-L-Equation.html" rel="alternate" type="text/html" title="E-L Equation" /><published>2021-07-25T11:07:00+08:00</published><updated>2021-07-25T11:07:00+08:00</updated><id>https://favormylikes.github.io/zhihu/2021/07/25/E-L-Equation</id><content type="html" xml:base="https://favormylikes.github.io/zhihu/2021/07/25/E-L-Equation.html">&lt;h2 id=&quot;准备搞明白泛函&quot;&gt;准备搞明白泛函&lt;/h2&gt;

&lt;h3 id=&quot;无人机的动力学系统&quot;&gt;无人机的动力学系统&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;运动轨迹方程与E-L方程
    &lt;ul&gt;
      &lt;li&gt;高阶E-L方程
        &lt;ul&gt;
          &lt;li&gt;For $J[y(x)] = \int_{x_0}^{x_1}F(x, \dot x, \ddot x, \dotsc, x^{(n)})dx$&lt;/li&gt;
          &lt;li&gt;这里的$\dot x$为x的一阶导数，即速度，由于在力学领域，经常使用$\dot x, \ddot x$的形式描述高阶导数(牛顿导数记号)，这里也一并改为此种写法&lt;/li&gt;
          &lt;li&gt;E-L : $\frac{\partial F}{\partial x} - \frac{d}{dt}(\frac{\partial F}{\partial \dot x}) + \frac{d^2}{dt^2}(\frac{\partial F}{\partial \ddot x}) - \frac{d^3}{dt^3}(\frac{\partial F}{\partial x^{(3)}}) + \dotsc +(-1)^n \frac{d^n}{dt^n}(\frac{\partial F}{\partial x^{(n)}})= 0$&lt;/li&gt;
          &lt;li&gt;计算例子
            &lt;ul&gt;
              &lt;li&gt;求解从时间$0$到时间$t$, 速度的平方最小的函数, 即，一阶动力学问题
                &lt;ul&gt;
                  &lt;li&gt;$J[x(t)] = \int_{0}^{T}\dot x^2dt$&lt;/li&gt;
                  &lt;li&gt;$F = \dot x^2$&lt;/li&gt;
                  &lt;li&gt;利用E-L方程&lt;/li&gt;
                  &lt;li&gt;
                    &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
     \frac{\partial}{\partial x}F-\frac{d}{dt}(\frac{\partial F}{\partial \dot x}) &amp;= 0\\
     0 - 2\ddot x &amp;= 0\\
     x &amp;= c_0t+c_1&amp;\text{匀速直线运动}\\
  \end{aligned}
$$&lt;/div&gt;
                  &lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;求解从时间$0$到时间$t$, 加加速度的平方最小的函数, 即，三阶动力学问题
                &lt;ul&gt;
                  &lt;li&gt;$J[x(t)] = \int_{0}^{T}(x^{(3)})^2dt$&lt;/li&gt;
                  &lt;li&gt;此时的E-L方程
                    &lt;ul&gt;
                      &lt;li&gt;
                        &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
      \frac{\partial F}{\partial x} - \frac{d}{dt}(\frac{\partial L}{\partial \dot x}) + \frac{d^2}{dt^2}(\frac{\partial F}{\partial \ddot x}) - \frac{d^3}{dt^3}(\frac{\partial L}{\partial x^{(3)}})
      &amp;=0\\
      0 - 0 + 0 - 2x^{(6)} &amp;= 0\\
      x &amp;= c_0t^5 + c_1t^4+c_2t^3 +c_3t^2 + c_4t+c_5
  \end{aligned}
$$&lt;/div&gt;
                      &lt;/li&gt;
                    &lt;/ul&gt;
                  &lt;/li&gt;
                  &lt;li&gt;求解参数
                    &lt;ul&gt;
                      &lt;li&gt;边界(Boundary condition)
                        &lt;ul&gt;
                          &lt;li&gt;
                            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{cases}
        [x, \dot x, \ddot x]\big |_{t=0} &amp;= [a, 0, 0]&amp;\text{假定初始速度为0，初始加速度为0，初始位置为a}\\
        [x, \dot x, \ddot x]\big |_{t=T} &amp;= [b, 0, 0]&amp;\text{假定终止速度为0，终止加速度为0，终止位置为b}
    \end{cases}
$$&lt;/div&gt;
                          &lt;/li&gt;
                        &lt;/ul&gt;
                      &lt;/li&gt;
                      &lt;li&gt;列出求解矩阵
                        &lt;ul&gt;
                          &lt;li&gt;
                            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
        \begin{bmatrix}
            x(0)\\x(T)\\\dot x(0)\\\dot x(T)\\\ddot x(0)\\\ddot x(T)
        \end{bmatrix}
        =
        \begin{bmatrix}
            a\\b\\0\\0\\0\\0
        \end{bmatrix}
        =
        \begin{bmatrix}
            0&amp;0&amp;0&amp;0&amp;0&amp;1\\
            T^5&amp;T^4&amp;T^3&amp;T^2&amp;T&amp;1\\
            0&amp;0&amp;0&amp;0&amp;1&amp;0\\
            5T^4&amp;4T^3&amp;3T^2&amp;2T&amp;1&amp;0\\
            0&amp;0&amp;0&amp;2&amp;0&amp;0\\
            20T^3&amp;12T^2&amp;6T&amp;2&amp;0&amp;0\\
        \end{bmatrix}
        \begin{bmatrix}
            c_0\\c_1\\c_2\\c_3\\c_4\\c_5
        \end{bmatrix}
    \end{aligned}
$$&lt;/div&gt;
                          &lt;/li&gt;
                        &lt;/ul&gt;
                      &lt;/li&gt;
                      &lt;li&gt;解出$c_0 ~ c_5$即可
                        &lt;ul&gt;
                          &lt;li&gt;
                            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{bmatrix}
        &amp;\frac{6 b}{T^{5}}-\frac{6 a}{T^{5}}\\
        &amp;\frac{15 a}{T^{4}}-\frac{15 b}{T^{4}}\\
        &amp;\frac{10 b}{T^{3}}-\frac{10 a}{T^{3}}&amp;\\
        &amp;0\\
        &amp;0\\
        &amp;a
    \end{bmatrix}
$$&lt;/div&gt;
                          &lt;/li&gt;
                        &lt;/ul&gt;
                      &lt;/li&gt;
                      &lt;li&gt;得到的位置，速度，加速度曲线如下(a=0, b=1, T=50)
                        &lt;ul&gt;
                          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210725184457.png&quot; alt=&quot;20210725184457&quot; /&gt;&lt;/li&gt;
                        &lt;/ul&gt;
                      &lt;/li&gt;
                    &lt;/ul&gt;
                  &lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;多维E-L方程
        &lt;ul&gt;
          &lt;li&gt;For $J[x(t), y(t)] = \int_0^TF(t, x, y, \dot x, \dot y)dt$&lt;/li&gt;
          &lt;li&gt;E-L:
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
              \frac{\partial F}{\partial x} - \frac{d}{dt}(\frac{\partial F}{\partial \dot x}) &amp;= 0\\
              \frac{\partial F}{\partial y} - \frac{d}{dt}(\frac{\partial F}{\partial \dot y}) &amp;= 0
      \end{aligned}$&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;使用例子
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://www.jneurosci.org/content/jneuro/5/7/1688.full.pdf&quot;&gt;手臂动作协调: 实验验证的数学模型： The coordination of arm movements: an experimentally confirmed mathematical model - Tamar Flash, Neville Hogan 1985&lt;/a&gt;
                &lt;ul&gt;
                  &lt;li&gt;$J[x(t), y(t), \theta(t)] = \int_{0}^{T}[(x^{(3)})^2+(y^{(3)})^2+(\theta^{(3)})^2]dt$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;多段轨迹[增加约束条件]
        &lt;ul&gt;
          &lt;li&gt;使物体依次通过m个点，但由于运动时无法忽略惯性作用，因此我们需要增加速度约束&lt;/li&gt;
          &lt;li&gt;For
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
      t&amp;=\begin{bmatrix}
          t_0&amp; t_1&amp;\dotsc t_m
      \end{bmatrix}^T&amp;\\
      x&amp;=\begin{bmatrix}
          x_0&amp; x_1&amp;\dotsc x_m
      \end{bmatrix}^T&amp;
  \end{aligned}$&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;$J[x(t)] = [\int_{t_0}^{t_1}(\ddot x^2)dx + \int_{t_1}^{t_2}(\ddot x^2)dx + \dotsc +\int_{t_{m-1}}^{t_m}(\ddot x^2)dx]$&lt;/li&gt;
          &lt;li&gt;分段求解，得到
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
      x(t) = \begin{cases}
          x_1(t) &amp;= c_{10}t^3 + c_{11}t^2 + c_{12}t + c_{13}&amp;t_0\le t\le t_1\\
          x_2(t) &amp;= c_{20}t^3 + c_{21}t^2 + c_{22}t + c_{23}&amp;t_1\le t\le t_2\\
          \dotsc\\
          x_m(t) &amp;= c_{m0}t^3 + c_{m1}t^2 + c_{m2}t + c_{m3}&amp;t_0\le t\le t_m\\
      \end{cases}
  \end{aligned}$&lt;/span&gt;&lt;/li&gt;
          &lt;li&gt;为了求解$4m$个变量$c_{ij}$，我们需要$4m$个方程[约束]来进行确定
            &lt;ul&gt;
              &lt;li&gt;有位置方程
                &lt;ul&gt;
                  &lt;li&gt;$x_n(t_{n-1}) = x_{n-1}$ 前一个$x$是方程，后一个$x$是值, 共$m$个&lt;/li&gt;
                  &lt;li&gt;$x_n(t_n) = x_n$, 共$m$个&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;有速度方程[通过某一点，速度不变]
                &lt;ul&gt;
                  &lt;li&gt;$\dot x_n(t_n) = \dot x_{n+1}(t_n)$ 共$m-1$个&lt;/li&gt;
                  &lt;li&gt;$\dot x_1(t_0) = 0$ \ 终点停止&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;有加速度方程[加速度连续，不存在阶跃的情况]
                &lt;ul&gt;
                  &lt;li&gt;$\ddot x_n(t_n) = \ddot x_{n+1}(t_n)$ 共$m-1$个&lt;/li&gt;
                  &lt;li&gt;$\dot x_1(t_m) = 0$ \ 终点停止&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;共4m个方程组&lt;/li&gt;
              &lt;li&gt;利用以上方程组即可求解&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="zhihu" /><summary type="html">准备搞明白泛函</summary></entry><entry><title type="html">Install RemoteView.docker, Finish Dynamic System Control[1]</title><link href="https://favormylikes.github.io/env/system/docker/zhihu/2021/07/24/RemoteView-docker-and-Dynamic-System.html" rel="alternate" type="text/html" title="Install RemoteView.docker, Finish Dynamic System Control[1]" /><published>2021-07-24T09:57:00+08:00</published><updated>2021-07-24T09:57:00+08:00</updated><id>https://favormylikes.github.io/env/system/docker/zhihu/2021/07/24/RemoteView-docker-and-Dynamic-System</id><content type="html" xml:base="https://favormylikes.github.io/env/system/docker/zhihu/2021/07/24/RemoteView-docker-and-Dynamic-System.html">&lt;h2 id=&quot;尝试安装-remoteview&quot;&gt;尝试安装 remoteview&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;搞定浏览器嵌套&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://hub.docker.com/r/dosyago/browsergapce&quot;&gt;docker&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/i5ik/ViewFinderJS&quot;&gt;github&lt;/a&gt;&lt;/p&gt;

    &lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  docker &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; pull dosyago/browsergapce:2.5 &lt;span class=&quot;c&quot;&gt;# from other has access to internet&lt;/span&gt;
  docker save &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; remoteview.docker dosyago/browsergapce:2.5
  docker load &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; remoteview.docker  &lt;span class=&quot;c&quot;&gt;# at ucas server&lt;/span&gt;
  wget https://raw.githubusercontent.com/c9fe/ViewFinder/master/chrome.json
  docker run &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 8002:8002 &lt;span class=&quot;nt&quot;&gt;--security-opt&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;seccomp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;pwd&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;)&lt;/span&gt;/chrome.json dosyago/browsergapce:2.5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;nginx&lt;/p&gt;

    &lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;rewrite_log&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://127.0.0.1:8002/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;proxy_redirect&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/browser/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;rewrite&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;^(?!/browser)/?(.*)&lt;/span&gt;$ &lt;span class=&quot;n&quot;&gt;/browser/&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$2&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;last&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;proxy_http_version&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Upgrade&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$http_upgrade&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;upgrade&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Origin&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;sub_filter&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/api/v1/tabs'&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/browser/api/v1/tabs'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;sub_filter&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'login'&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'browser/login'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;sub_filter_types&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;sub_filter_once&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210724144046.png&quot; alt=&quot;20210724144046&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;准备搞明白泛函&quot;&gt;准备搞明白泛函&lt;/h2&gt;

&lt;h3 id=&quot;无人机的动力学系统&quot;&gt;无人机的动力学系统&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;从问题到思路
    &lt;ul&gt;
      &lt;li&gt;实际问题[由浅入深]:
        &lt;ol&gt;
          &lt;li&gt;一个4旋翼无人机从空间中A点到B点需要的动力输出方程应该如何设计&lt;/li&gt;
          &lt;li&gt;一个4旋翼无人机从空间中A点到B点再到C点中，不希望再B点停留(hover)，动力输出方程应该如何设计&lt;/li&gt;
          &lt;li&gt;多个无人机如何先后通过某一点而不发生碰撞&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;转化为抽象子问题[由浅入深]
        &lt;ol&gt;
          &lt;li&gt;假定我们可以在任意时刻指定任意大小的速度&lt;strong&gt;1阶动力学问题&lt;/strong&gt;
            &lt;ol&gt;
              &lt;li&gt;在2D或3D空间内从A点到B点需要的速度方程&lt;/li&gt;
            &lt;/ol&gt;
          &lt;/li&gt;
          &lt;li&gt;假定我们可以在任意时刻指定任意大小的加速度&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;推力&lt;/code&gt;&lt;strong&gt;2阶动力学问题&lt;/strong&gt;&lt;/li&gt;
          &lt;li&gt;假定我们可以在任意时刻指定任意大小的加加速度&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;给定电压条件下推力随电压持续增加或减少&lt;/code&gt;&lt;strong&gt;3阶动力学问题&lt;/strong&gt;&lt;/li&gt;
        &lt;/ol&gt;
      &lt;/li&gt;
      &lt;li&gt;需要解决的数学子问题
        &lt;ul&gt;
          &lt;li&gt;使用&lt;strong&gt;Euler-Lagrange Equation[欧拉-拉格朗日方程]&lt;/strong&gt; 求解&lt;/li&gt;
          &lt;li&gt;变分法推导&lt;strong&gt;Euler-Lagrange Equation[欧拉-拉格朗日方程]&lt;/strong&gt;&lt;/li&gt;
          &lt;li&gt;惯性系(body-fixed frame)与旋转矩阵&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;变分法与泛函
    &lt;ul&gt;
      &lt;li&gt;参考文章
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/bigmonkey/p/9519387.html&quot;&gt;寻找“最好”（2）——欧拉-拉格朗日方程 - 博客园&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://www.linchenguang.com/2019/06/08/exercise-in-Euler-Lagrange-equation/&quot;&gt;欧拉-拉格朗日方程练习 - linchenguang.com&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/45912984&quot;&gt;从最速降线问题到欧拉-拉格朗日方程 - 地狱少女火炮兰的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/148949128&quot;&gt;Euler-Lagrange Equation (欧拉-拉格朗日方程)推导 - TranSirius的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/41573146&quot;&gt;变分法理解1——泛函简介 - 清雅白鹿记的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/41810184&quot;&gt;变分法理解2——基本方法 - 清雅白鹿记的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/20727402&quot;&gt;变分法简介Part 2.（Calculus of Variations） - Dr.Stein的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%8F%98%E5%88%86%E6%B3%95#%E6%AC%A7%E6%8B%89-%E6%8B%89%E6%A0%BC%E6%9C%97%E6%97%A5%E6%96%B9%E7%A8%8B&quot;&gt;变分法#欧拉-拉格朗日方程 - Wikipedia&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;泛函
        &lt;ul&gt;
          &lt;li&gt;对等概念
            &lt;ul&gt;
              &lt;li&gt;函数: 值-&amp;gt;值 运算&lt;/li&gt;
              &lt;li&gt;泛函: 函数-&amp;gt;值 运算 即函数的函数&lt;/li&gt;
              &lt;li&gt;求解函数极值，即寻找函数中的最大值或最小值&lt;/li&gt;
              &lt;li&gt;求解泛函极值，即寻找一种函数的形式，使得这样的函数形式有最大值或最小值&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;泛函形式
            &lt;ul&gt;
              &lt;li&gt;一般常见的形式
                &lt;ul&gt;
                  &lt;li&gt;$J[y(x)] = \int_{x_0}^{x_1}F(x, y, y’)dx$&lt;/li&gt;
                  &lt;li&gt;即，从$x_0$到$x_1$的曲线积分值&lt;/li&gt;
                  &lt;li&gt;这里的基本假设，$y’$存在，即寻找一条光滑曲线以达到特定极值&lt;/li&gt;
                  &lt;li&gt;下方E-L方程推导过程中的证明中有使用$y’’$，因此，特定公式的成立，可能需要依赖其他条件&lt;/li&gt;
                  &lt;li&gt;如果存在导数不存在或者是折线的情况就要更一般的考虑&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;其他假设下的形式
                &lt;ul&gt;
                  &lt;li&gt;$J[y(x)] = \int_{x_0}^{x_1}F(x, y, y’, y’’, y’’’, \dotsc)dx$&lt;/li&gt;
                  &lt;li&gt;这里就假设$y’’‘$甚至更高的导数存在&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;求解例子[由浅入深]
            &lt;ol&gt;
              &lt;li&gt;两点之间的最短路径
                &lt;ol&gt;
                  &lt;li&gt;曲线的微元$ds = \sqrt{1 + \frac{dy}{dx}^2}$&lt;/li&gt;
                  &lt;li&gt;曲线长 $S = \int_{x_0}^{x_1}ds = \int_{x_0}^{x_1}{\sqrt{1 + y’^2}dx}$&lt;/li&gt;
                  &lt;li&gt;问题等价为找到一个函数$y$使$S$最小&lt;/li&gt;
                  &lt;li&gt;泛函式$J[y(x)] = \int_{x_0}^{x_1}F(y’)dx$&lt;/li&gt;
                &lt;/ol&gt;
              &lt;/li&gt;
              &lt;li&gt;最速曲线问题
                &lt;ol&gt;
                  &lt;li&gt;能量守恒
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
    \frac{1}{2}mv^2&amp;=mgy\\
    v^2 &amp;= 2gy
    \end{aligned}$&lt;/span&gt;&lt;/li&gt;
                  &lt;li&gt;速度公式 $v = \frac{ds}{dt} = \sqrt{\frac{1+y’^2}{dt}}dx$&lt;/li&gt;
                  &lt;li&gt;$dt = {\sqrt\frac{1+y’^2}{v}}dx = \sqrt{\frac{1+y’^2}{2gy}}dx$&lt;/li&gt;
                  &lt;li&gt;$x_0$到$x_1$的时间为$t = \int_{x_0}^{x_1}dt = \int_{x_0}^{x_1}\sqrt{\frac{1+y’^2}{2gy}}dx$&lt;/li&gt;
                  &lt;li&gt;问题等价为找到一个函数$y$使$t$最小&lt;/li&gt;
                  &lt;li&gt;泛函1式$J[y(x)] = \int_{x_0}^{x_1}F(y, y’)dx$&lt;/li&gt;
                &lt;/ol&gt;
              &lt;/li&gt;
            &lt;/ol&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;变分 &lt;strong&gt;[Calculus of variations]&lt;/strong&gt;
        &lt;ul&gt;
          &lt;li&gt;函数的变分
            &lt;ul&gt;
              &lt;li&gt;在定义域$[x_0, x_1]$, $\delta y = y(x) - y_0(x)$称为函数$y(x)$在$y_0(x)$处的变分&lt;/li&gt;
              &lt;li&gt;$y_0$为另一可取函数&lt;/li&gt;
              &lt;li&gt;变分即为两个函数相减产生的新的函数，新函数$\delta y$在定义域$[x_0, x_1]$出随$x$变化&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;泛函的变分
            &lt;ul&gt;
              &lt;li&gt;最简泛函的变分&lt;/li&gt;
              &lt;li&gt;$J[y(x)] = \int_{x_0}^{x_1}F(x, y, y’)dx$&lt;/li&gt;
              &lt;li&gt;$F$为最简泛函的核&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
    \Delta J &amp;= J[y_0(x)] - J[y(x)]\\
    &amp;= J[y(x) + \delta y] - J[y(x)]\\
    &amp;= \int_{x_0}^{x_1}[F(x, y+\delta y, y' + \delta y') - F(x, y, y')]dx\\
    &amp;= \int_{x_0}^{x_1}(F_2\delta y + F_3\delta y')dx + \dotsc + \int_{x_0^{x_1}}[\frac{1}{n!}(\delta y\frac{\partial}{\partial y} + \delta y'\frac{\partial}{\partial y'})^n]dx &amp;\text{多元函数的泰勒展开}&amp;\\
    &amp;&amp;\text{$F_1, F_2, F_3$} 为偏导数&amp;\\
  \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;其中$\int_{x_0}^{x_1}(F_2\delta y + F_3\delta y’)dx$称为&lt;strong&gt;泛函的变分&lt;/strong&gt;，记为$\delta J$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;利用变分法求解泛函极值(极值存在的函数形式)
        &lt;ul&gt;
          &lt;li&gt;假设$y(x)$为我们要出来的函数&lt;/li&gt;
          &lt;li&gt;那么$y(x) + \delta y$为$x_0$到$x_1$的所有可能形式&lt;/li&gt;
          &lt;li&gt;记$\tilde{y}(x) = y(x) + \delta y = y(x) + \epsilon \eta(x)$&lt;/li&gt;
          &lt;li&gt;其中$\eta(x)$为满足$\eta(x_0) = \eta(x_1) = 0$的任意函数&lt;/li&gt;
          &lt;li&gt;$\epsilon$为一个常量&lt;/li&gt;
          &lt;li&gt;$\epsilon = 0$时，$\tilde y(x)$即为所求函数&lt;/li&gt;
          &lt;li&gt;记$\Phi(\epsilon) = J[\tilde y(x)] = J[y(x) + \epsilon \eta(x)] = \int_{x_0}^{x_1}F(x, y(x) + \epsilon \eta(x), y’(x) + \epsilon \eta’(x))dx$&lt;/li&gt;
          &lt;li&gt;我们希望$\Phi(\epsilon)$在$\epsilon = 0$时取极值&lt;/li&gt;
          &lt;li&gt;
            &lt;table&gt;
              &lt;tbody&gt;
                &lt;tr&gt;
                  &lt;td&gt;则$\Phi’(\epsilon)\big&lt;/td&gt;
                  &lt;td&gt;_{\epsilon =0 } = 0$&lt;/td&gt;
                &lt;/tr&gt;
              &lt;/tbody&gt;
            &lt;/table&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
  \frac{d\Phi}{d\epsilon}
     &amp;= \int_{x_0}^{x_1}F_2[x, y(x) + \epsilon \eta(x), y'(x) + \epsilon \eta'(x)]\eta(x) + F_3[x, y(x) + \epsilon\eta(x), y'(x)+\epsilon\eta'(x)]\eta'(x)dx\\
     &amp;=\int_{x_0}^{x_1}[F_2\eta(x) + F_3\eta'(x)]dx&amp;\text{令$\epsilon = 0$}\\
     &amp;=\int_{x_0}^{x_1}F_2\eta(x)dx + \int_{x_0}^{x_1}F_3\eta'(x)dx\\
     &amp;=\int_{x_0}^{x_1}F_2\eta(x)dx + \int_{x_0}^{x_1}F_3d\eta(x)&amp;\text{分部积分法}\\
     &amp;=\int_{x_0}^{x_1}F_2\eta(x)dx + F_3\eta(x)\big|_{x_0}^{x_1} - \int_{x_0}^{x_1}\eta(x)\frac{dF_3}{dx}dx&amp;\text{这里要求$F_3存在对x的导数$}\\
     &amp;=\int_{x_0}^{x_1}(F_2\eta(x) - \eta(x)\frac{dF_3}{dx})dx + F_3\eta(x)\big|_{x_0}^{x_1}\\
     &amp;=\int_{x_0}^{x_1}[F_2 -\frac{dF_3}{dx}]\eta(x)dx&amp;\text{$\eta(x_0) = 0, \eta(x_1) = 0\rightarrow F_3\eta(x)\big|_{x_0}^{x_1} = 0$}\\
     &amp;=0&amp;\text{\textcircled 1}
  \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
          &lt;li&gt;引理
            &lt;ul&gt;
              &lt;li&gt;$f(x)$在$[x_0, x_1]$内连续,$\eta(x)$是满足$\eta(x_0)=0,\eta(x_1)=0$的任意函数&lt;/li&gt;
              &lt;li&gt;若$\int_{x_0}^{x_1}f(x)\eta(x)dx = 0$&lt;/li&gt;
              &lt;li&gt;则对所有的$x\in[x_0, x_1]$,有$f(x)\equiv0$&lt;/li&gt;
              &lt;li&gt;证明:
                &lt;ul&gt;
                  &lt;li&gt;反证法, 设$f(x)$不恒为0&lt;/li&gt;
                  &lt;li&gt;取$\eta(x) = -f(x)(x-x_0)(x-x_1)$&lt;/li&gt;
                  &lt;li&gt;取$x_0\lt x\lt x_1$, 所以$(x-x_0)(x-x_1)\lt 0$&lt;/li&gt;
                  &lt;li&gt;所以$\int_{x_0}^{x_1}f(x)\eta(x)dx = \int_{x_0}^{x_1}-f(x)^2(x-x_0)(x-x_1)\gt 0$&lt;/li&gt;
                  &lt;li&gt;与预设矛盾，因此$f(x)\equiv 0$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;利用上述引理
            &lt;ul&gt;
              &lt;li&gt;$\text{\textcircled 1}$式&lt;/li&gt;
              &lt;li&gt;$\int_{x_0}^{x_1}(F_2-\frac{dF_3}{dx})\eta(x)dx = 0$&lt;/li&gt;
              &lt;li&gt;$F_2-\frac{dF_3}{dx} = 0$&lt;/li&gt;
              &lt;li&gt;即&lt;strong&gt;Euler-Lagrange Equation[欧拉-拉格朗日方程]&lt;/strong&gt;&lt;/li&gt;
              &lt;li&gt;$\frac{\partial}{\partial y}F - \frac{d}{dx}(\frac{\partial}{\partial y’}F) = 0$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;strong&gt;Euler-Lagrange Equation[欧拉-拉格朗日方程]&lt;/strong&gt;表示，极值函数的存在形式一定满足该条件&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;利用E-L求解
    &lt;ol&gt;
      &lt;li&gt;两点间最短距离
        &lt;ul&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
 J[y(x)] &amp;= \int_{x_0}^{x_1}{\sqrt{1 + y'^2}dx} \\
 F&amp;=\sqrt{1 + y'^2}\\
 \frac{\partial F}{\partial y} &amp;= 0\\
 \frac{\partial F}{\partial y'} &amp;= \frac{y'}{\sqrt{1+y'^2}}\\
 E-L: 0 - \frac{d}{dx}[ \frac{y'}{\sqrt{1+y'^2}}] &amp;= 0\\
 \frac{y'}{\sqrt{1+y'^2}} &amp;= C\\
 y' &amp;= \sqrt{\frac{C^2}{1-C^2}} = C_0\\
 y &amp; = C_0x + C_1
 \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
          &lt;li&gt;因此是导数为常数的直线&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;最速降线问题
        &lt;ul&gt;
          &lt;li&gt;$J[y(x)] = \int_{x_0}^{x_1}\sqrt{\frac{1+y’^2}{2gy}}dx$&lt;/li&gt;
          &lt;li&gt;引理(在$x$不存在时的简便计算法)
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
       F(y, y')&amp;= \sqrt{\frac{1+y'^2}{2gy}}\\
       \frac{d}{dt}(F - y'F_2)
       &amp;= \frac{d}{dt}F - \frac{d}{dt}(y'F_2)\\
       &amp;=[y'F_1 + y''F_2] - [y''F_2 + y'\frac{d}{dt}F_2]&amp;\text{这里要求$y''$存在}\\
       &amp;=y'F_1-y'\frac{d}{dt}F_2\\
       &amp;=y'[F_1-\frac{d}{dt}F_2]\\
       &amp;=0&amp;\text{here $F_1=\frac{\partial F}{\partial y}, F_2=\frac{\partial F}{\partial y'}$, hence $F_1-\frac{d}{dt}F_2 = 0$ 为EL方程 }\\
       \therefore F - y'F_2 &amp;= C &amp;\text{here $C$为常数}
   \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
     F - y'F_2 &amp;= \sqrt{\frac{1+y'^2}{2gy}} - y'\frac{2y'\frac{1}{2}(1+y'^2)^{-\frac{1}{2}}}{\sqrt{2gy}}\\
     &amp;=\sqrt{\frac{1+y'^2}{2gy}} - \frac{y'^2}{\sqrt{2gy}\sqrt{1+y'^2}}\\
     &amp;=\frac{1+y'^2}{\sqrt{2gy}\sqrt{1+y'^2}} - \frac{y'^2}{\sqrt{2gy}\sqrt{1+y'^2}}\\
     &amp;= \frac{1}{\sqrt{2gy}\sqrt{1+y'^2}}\\
     &amp;=C&amp;\text{利用上面的引理}\\
     \therefore y(1+y'^2) &amp;= \frac{1}{2gC^2}
 \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
          &lt;li&gt;解得(积分表或换元$y’=\cot\frac{\theta}{2}$), 摆线
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{cases}
       x&amp;=\frac{C}{2}(\theta - \sin\theta)\\
       y&amp;=\frac{C}{2}(1-\cos\theta)
   \end{cases}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;约束
    &lt;ul&gt;
      &lt;li&gt;指求解时需要满足的条件&lt;/li&gt;
      &lt;li&gt;求解例子
        &lt;ul&gt;
          &lt;li&gt;两点间最短路径
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{cases}
    y(x_0)&amp;= y_0\\
    y(x_1)&amp;= y_1\\
  \end{cases}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;代入$y = C_0x$&lt;/li&gt;
              &lt;li&gt;得到$C_0 = \frac{y_1 - y_0}{x_1 - x_0}$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;最速降线
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{cases}
    y(x_0)&amp;= y_0\\
    y(x_1)&amp;= y_1\\
  \end{cases}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;代入
&lt;span class=&quot;kdmath&quot;&gt;$\begin{cases}
    x&amp;=\frac{C}{2}(\theta - \sin\theta)\\
    y&amp;=\frac{C}{2}(1-\cos\theta)
  \end{cases}$&lt;/span&gt;&lt;/li&gt;
              &lt;li&gt;得到
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
    y' &amp;= \cot\frac{\theta}{2}\\
    A(x,y) &amp;= \theta^2\\
    B(x,y) &amp;= 4x\theta + 4y\\
    D(x,y) &amp;= 4(x^2+y^2)\\
    C&amp;=\frac{D_1A_2 - D_2A_1}{B_1A_2 - B_2A_1}
\end{aligned}$&lt;/span&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="env" /><category term="system" /><category term="docker" /><category term="zhihu" /><summary type="html">尝试安装 remoteview</summary></entry><entry><title type="html">Robotics-Flight week 3 and 4, 3D rebuilding</title><link href="https://favormylikes.github.io/coursera/3d/2021/07/23/Robotics-Flight-week-3-and-4.html" rel="alternate" type="text/html" title="Robotics-Flight week 3 and 4, 3D rebuilding" /><published>2021-07-23T10:17:00+08:00</published><updated>2021-07-23T10:17:00+08:00</updated><id>https://favormylikes.github.io/coursera/3d/2021/07/23/Robotics-Flight-week-3-and-4</id><content type="html" xml:base="https://favormylikes.github.io/coursera/3d/2021/07/23/Robotics-Flight-week-3-and-4.html">&lt;h2 id=&quot;准备看点coursera&quot;&gt;准备看点Coursera&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;week 3
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.coursera.org/learn/robotics-flight/lecture/kakc6/2-d-quadrotor-control&quot;&gt;2-d-quadrotor-control&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;state-space form[状态空间]
            &lt;ol&gt;
              &lt;li&gt;Identify the order, n, of the system&lt;/li&gt;
              &lt;li&gt;Define the states, $x=y(t), x_1 = \dot y(t) \dotsc$&lt;/li&gt;
              &lt;li&gt;Create the states vector, $\mathbf{x} = [x_1, x_2, \dotsc ]^T = [y, \dot y, \dotsc ]^T$&lt;/li&gt;
              &lt;li&gt;write system of first-order differencial equations as matrix.
                &lt;ul&gt;
                  &lt;li&gt;
                    &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{bmatrix}
 \dot x_1\\
 \dot x_2\\
 \dotsc\\
 \dot x_n
 \end{bmatrix}
 =
 \begin{bmatrix}
   x_2\\
   x_3\\
   \dotsc\\
   g(x_1, x_2, \dotsc, x_n, \mathbf{u})
 \end{bmatrix}
$$&lt;/div&gt;
                  &lt;/li&gt;
                  &lt;li&gt;$\mathbf{\dot x} = f(\mathbf{x}, \mathbf{u})$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ol&gt;
          &lt;/li&gt;
          &lt;li&gt;example 1[&lt;strong&gt;Mass-Spring System&lt;/strong&gt;]
            &lt;ul&gt;
              &lt;li&gt;for equation $m\ddot y(t) + ky(t) = u(t)$&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\dot x=\begin{bmatrix}\dot x_1\\ \dot x_2\end{bmatrix} = \begin{bmatrix}x_2\\\frac{u(t)-kx_1}{m}\end{bmatrix}=\begin{bmatrix}0&amp;1\\-\frac{k}{m}&amp;0\end{bmatrix}\begin{bmatrix}x_1\\x_2\end{bmatrix} + \begin{bmatrix}0\\1\end{bmatrix}u(t)
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;$\mathbf{\dot X}=A\mathbf{X}+B\mathbf{u}$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;example 2[&lt;strong&gt;Planar Quadrotor Model&lt;/strong&gt;]
            &lt;ul&gt;
              &lt;li&gt;Define states $x_1 = y,x_2 = z, x_3 = \phi, x_4 = \dot y, x_5 = \dot z, x_6 = \dot \phi$&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
    m\ddot y &amp;= sin(\phi) u_1\\
    m\ddot z &amp;= cos(\phi) u_1 + mg\\
    I_{xx} \ddot \phi &amp;= u_2
    \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{bmatrix}
    \dot x_1\\
    \dot x_2\\
    \dot x_3\\
    \dot x_4\\
    \dot x_5\\
    \dot x_6\\
    \end{bmatrix}
    =
    \begin{bmatrix}
    x_4\\
    x_5\\
    x_6\\
    \frac{\sin(x_3)u_1}{m}\\
    \frac{\cos(x_3)u_1}{m} - g\\
    u_2
    \end{bmatrix}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;Linearization&lt;/strong&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;strong&gt;For PID controller, it is designed for a linear system&lt;/strong&gt;&lt;/li&gt;
          &lt;li&gt;&lt;strong&gt;So, we need linearize equation of motions.&lt;/strong&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;For 2D Quadrotor Control
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210723122620.png&quot; alt=&quot;20210723122620&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;Rotation matrix
            &lt;ul&gt;
              &lt;li&gt;$\begin{bmatrix}\cos\phi&amp;amp; -\sin\phi\\sin\phi&amp;amp;\cos\phi \end{bmatrix}$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;$u_1=F_1 +F_2$&lt;/li&gt;
          &lt;li&gt;$u_2 = L(F_1 - F_2)$
            &lt;ul&gt;
              &lt;li&gt;L is the arm length of the quadrotor.&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Newton equation
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
m\mathbf{\ddot r}=m\begin{bmatrix}\ddot y\\\ddot z\end{bmatrix}=\begin{bmatrix}0\\-mg\end{bmatrix} + R\begin{bmatrix}0\\u_1\end{bmatrix} = \begin{bmatrix}0\\-mg\end{bmatrix} + \begin{bmatrix}-u_1\sin\phi\\u_1\cos\phi\end{bmatrix}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Euler equation
            &lt;ul&gt;
              &lt;li&gt;$I_{xx}\ddot \phi = u_2$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Newton-Euler equation
            &lt;ul&gt;
              &lt;li&gt;$\begin{bmatrix}\ddot y\\ddot z\\ddot\phi\end{bmatrix}=\begin{bmatrix}0\-g\0\end{bmatrix} + \begin{bmatrix}
  -\frac{1}{m}\sin\phi&amp;amp;0&lt;br /&gt;
  \frac{1}{m}\cos\phi&amp;amp;0&lt;br /&gt;
  0&amp;amp;\frac{1}{I_{xx}}
\end{bmatrix}
\begin{bmatrix}
u_1\u_2
\end{bmatrix}
$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Linearization
            &lt;ul&gt;
              &lt;li&gt;$\phi\sim 0 \rightarrow \sin\phi\sim \phi, \cos\phi\sim 1$&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
    \ddot y &amp;= -g\phi\\
    \ddot z &amp;= -g + \frac{u_1}{m}\\
    \ddot \phi &amp;=\frac{u_2}{I_{xx}}
    \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;PD controller
            &lt;ul&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}e_p&amp;=r_T(t)-r\\e_v&amp;=\dot r_T(t) - \dot r\end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;$\ddot r_c=\ddot r_T(t) + k_pe_p+k_ve_v$&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
        u_1&amp;=mg+m\ddot z_c&amp;=&amp;m[g+\ddot z_T(t)+k_{vz}(\dot z_T(t) - \dot z) + k_{pz}(z_T(t)-z)]\\
        u_2&amp;=I_{xx}\ddot \phi_c &amp;=&amp; I_{xx}[\ddot \phi_T(t)+ k_{v\phi}(\dot\phi_T(t) - \dot\phi) + k_{pz}(\phi_T(t) - \phi)]\\
        \phi_c &amp;= -\frac{\ddot y_c}{g} &amp;=&amp; -\frac{1}{g}[\ddot y_T(t) + k_{vy}(\dot y_T(t) - \dot y) + k_{py}(y_T(t)-y)]
    \end{aligned}
$$&lt;/div&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;// TODO&lt;/li&gt;
          &lt;li&gt;&lt;strong&gt;Not totally figure out what is the relationship between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;states-space form&lt;/code&gt; and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PD controller&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Trajectores[轨迹追踪]
        &lt;ul&gt;
          &lt;li&gt;Target
            &lt;ul&gt;
              &lt;li&gt;Start, goal positions&lt;/li&gt;
              &lt;li&gt;Waypoint positions&lt;/li&gt;
              &lt;li&gt;Smoothness criterion&lt;/li&gt;
              &lt;li&gt;Order of the system(n) [系统阶数]
                &lt;ul&gt;
                  &lt;li&gt;n=1, 指定任意速度, velocity&lt;/li&gt;
                  &lt;li&gt;n=2, 指定任意加速度, acceleration&lt;/li&gt;
                  &lt;li&gt;n=3, 指定任意加加速度, jerk&lt;/li&gt;
                  &lt;li&gt;n=4, 指定任意加加加速度, snap&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Calculus of variations[变分法]&lt;/li&gt;
          &lt;li&gt;Euler-Lagrange Equation[欧拉拉格朗日方程]
            &lt;ul&gt;
              &lt;li&gt;$\frac{d}{dt}(\frac{\partial\mathcal L}{\partial\dot x}) - \frac{\partial \mathcal L}{\partial x} = 0$&lt;/li&gt;
              &lt;li&gt;for $\underset{x(t)}{\argmin} = \int_0^T{\dot x^2}dt$
                &lt;ul&gt;
                  &lt;li&gt;速度最小时的方程&lt;/li&gt;
                  &lt;li&gt;$\mathcal{L}(\dot x,x, t) = \dot x^2$&lt;/li&gt;
                  &lt;li&gt;Solution(匀速直线运动)&lt;/li&gt;
                  &lt;li&gt;$x(t) = c_0t + c_1$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;for $\underset{x(t)}{\argmin} = \int_0^T{\sqrt{1+\dot x^2}dt}$
                &lt;ul&gt;
                  &lt;li&gt;hence $ds = \sqrt{1+\dot x^2}dt$&lt;/li&gt;
                  &lt;li&gt;$\mathcal{L}(\dot x,x, t) = \sqrt{1+\dot x^2}$&lt;/li&gt;
                  &lt;li&gt;找到A点到B点的最优曲线(速度最小)&lt;/li&gt;
                  &lt;li&gt;Solution(匀速直线运动)&lt;/li&gt;
                  &lt;li&gt;$\dot x(t) = \sqrt{\frac{K}{1-K^2}} = c_1$&lt;/li&gt;
                  &lt;li&gt;$x(t) = c_1t+c_0$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;for $\underset{x(t)}{\argmin}\int_0^T(x^{(3)})^2dt$
                &lt;ul&gt;
                  &lt;li&gt;$\mathcal{L}(x^{3}, \ddot x, \dot x, x, t) = (x^{(3)})^2$&lt;/li&gt;
                  &lt;li&gt;$\frac{\partial\mathcal{L}}{\partial x} - \frac{d}{dt}(\frac{\partial \mathcal{L}}{\partial \dot x}) + \frac{d^2}{dt^2}(\frac{\partial \mathcal{L}}{\partial \ddot x}) - \frac{d^3}{dt^3}(\frac{\partial \mathcal{L}}{\partial x^{(3)}}) = 0$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Finish&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;week 4
    &lt;ul&gt;
      &lt;li&gt;Estimation and Control Architecture
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210723205234.png&quot; alt=&quot;20210723205234&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Finish&lt;/li&gt;
      &lt;li&gt;&lt;strong&gt;This course is too complex&lt;/strong&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;准备看公众号&quot;&gt;准备看公众号&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;基于RGB-D相机的三维重建总览[基于fusion系列的三维重建]
    &lt;ul&gt;
      &lt;li&gt;静态场景
        &lt;ul&gt;
          &lt;li&gt;KinectFusion✔
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/ismar2011.pdf&quot;&gt;Paper [Richard A. Newcombe]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/ParikaGoel/KinectFusion&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;Kinect -&amp;gt; TSDF[Truncated signed distance function][全局隐式表面模型]&lt;/li&gt;
              &lt;li&gt;ICP[Iterative Closest Point][迭代最近点]&lt;/li&gt;
              &lt;li&gt;缺点
                &lt;ul&gt;
                  &lt;li&gt;大内存&lt;/li&gt;
                  &lt;li&gt;7立方米&lt;/li&gt;
                  &lt;li&gt;无法重建较大建筑，存在漂移现象&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Kintinuous
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;http://www.thomaswhelan.ie/Whelan12rssw.pdf&quot;&gt;Paper [Thomas Whelan..]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/mp3guy/Kintinuous&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;只能重建固定大小的场景&lt;/li&gt;
              &lt;li&gt;耗内存&lt;/li&gt;
              &lt;li&gt;存在累计误差&lt;/li&gt;
              &lt;li&gt;回环检测和回环优化&lt;/li&gt;
              &lt;li&gt;deformation graph非缸体变换&lt;/li&gt;
              &lt;li&gt;适合大场景的重建&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;ElasticFusion
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;http://www.thomaswhelan.ie/Whelan16ijrr.pdf&quot;&gt;Paper [Richard A. Newcombe]&lt;/a&gt;,&lt;a href=&quot;http://roboticsproceedings.org/rss11/p01.pdf&quot;&gt;Paper&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/mp3guy/ElasticFusion&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;面元表示&lt;/li&gt;
              &lt;li&gt;局部闭环&lt;/li&gt;
              &lt;li&gt;全局闭环&lt;/li&gt;
              &lt;li&gt;全局一致性&lt;/li&gt;
              &lt;li&gt;探测离散的多点光源环境&lt;/li&gt;
              &lt;li&gt;还需要解决地图可扩展性&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;ElasticReconstruction
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;http://vladlen.info/papers/indoor.pdf&quot;&gt;Paper [Sungjoon Choi]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/qianyizh/ElasticReconstruction&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;几何配准 + 全局优化&lt;/li&gt;
              &lt;li&gt;将视频流分割为若干帧为一组的场景片段&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;InfiniTam
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://arxiv.org/pdf/1708.00783.pdf&quot;&gt;Paper [Victor Adrian Prisacariu]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/victorprad/InfiniTAM&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;开源、跨平台、实时的大范围深度信息融合与跟踪技术框架&lt;/li&gt;
              &lt;li&gt;哈希表存储隐式体积表示&lt;/li&gt;
              &lt;li&gt;节省内存消耗&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;BundleFusion👍
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://arxiv.org/pdf/1604.01093.pdf&quot;&gt;Paper [Angela Dai]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/niessner/BundleFusion‍&quot;&gt;github&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;目前静态场景重建效果最佳&lt;/li&gt;
              &lt;li&gt;并行化优化框架&lt;/li&gt;
              &lt;li&gt;基于稀疏特征以及稠密几何和光度匹配提取的对应关系&lt;/li&gt;
              &lt;li&gt;实时地估计了BA优化的姿态&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;动态场景
        &lt;ul&gt;
          &lt;li&gt;DynamicFusion✔
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://rse-lab.cs.washington.edu/papers/dynamic-fusion-cvpr-2015.pdf&quot;&gt;Paper [Newcombe]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;对于帧间较大的运动以及遮挡区域的运动都不具备鲁棒性&lt;/li&gt;
              &lt;li&gt;可以较好的处理封闭拓扑表面的重建&lt;/li&gt;
              &lt;li&gt;回环闭合失败&lt;/li&gt;
              &lt;li&gt;&lt;strong&gt;2015 cvpr best paper award&lt;/strong&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;volumeDeform
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://graphics.stanford.edu/~niessner/papers/2016/5volumeDeform/innmann2016deform.pdf&quot;&gt;Paper [Matthias Innmann]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;参数化重建模型的几何以及运动&lt;/li&gt;
              &lt;li&gt;全局稀疏彩色特征（SIFT[Scale-invariant feature transform][尺度不变特征转换]算子）&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;BodyFusion👍
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;http://www.liuyebin.com/bodyfusion/bodyfusion_files/BdyFu_ICCV17.pdf&quot;&gt;Paper [Tao Yu]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;BodyFusion使用人体骨架作为先验信息，实现鲁棒了的人体动态重建。人体骨架的引入减少了重建表面图节点的非刚性形变参数化的歧义性，也是在一定程度上缩小了解空间。&lt;/li&gt;
              &lt;li&gt;关节点太过稀疏, 运动过快，存在运动模糊&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;DoubleFusion👍
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;http://www.liuyebin.com/doublefusion/doublefusion_files/doublefusion.pdf&quot;&gt;Paper [Tao Yu]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;参数化人体(SMPL[Skinned Multi-Person Linear Model])的同时增加一个outer surface, 进行联合运动追踪&lt;/li&gt;
              &lt;li&gt;当人体穿着肥大，估计的人体偏胖&lt;/li&gt;
              &lt;li&gt;无法处理外层表发生分离的情况，以及无法处理人和物体交互的情况&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;UnstructuredFusion
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://ieeexplore.ieee.org/document/8708933&quot;&gt;Paper [Lan Yu]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;多相机系统&lt;/li&gt;
              &lt;li&gt;可以使用未经预先标定以及同步的三个深度相机以一种互补并灵活的方式覆盖整个人体，从而实现实时，高质量，完整的动态人体重建&lt;/li&gt;
              &lt;li&gt;输入深度图分辨率受限&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;RobustFusion
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://www.ecva.net/papers/eccv_2020/papers_ECCV/papers/123490239.pdf&quot;&gt;Paper [Zhuo Su]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;各种数据驱动的视觉线索提高动态重建算法的鲁棒性&lt;/li&gt;
              &lt;li&gt;Occupancy Network，Pose&amp;amp;Shape Network以及Semantic Network&lt;/li&gt;
              &lt;li&gt;无法实时运行&lt;/li&gt;
              &lt;li&gt;处理重建网格拓扑发生分离的情况, 脱掉衣服&lt;/li&gt;
              &lt;li&gt;不能实现人和物的交互&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;KillingFusion
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;http://campar.in.tum.de/pub/slavcheva2017cvpr/slavcheva2017cvpr.pdf&quot;&gt;Paper [Miroslava Slavcheva]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;当给定感兴趣区域的一对SDF（signed distance fields）,该算法可以估计出一个稠密形变域来对齐给定的SDF&lt;/li&gt;
              &lt;li&gt;不显式地寻找对应点也使得该算法在某些需要显式的对应点的操作上无法应用&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;SurfeiWarp
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://arxiv.org/pdf/1904.13073.pdf&quot;&gt;Paper [Wei Gao]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;基于面元的算法&lt;/li&gt;
              &lt;li&gt;无需维持体积数据结构&lt;/li&gt;
              &lt;li&gt;模型重初始化可以极大地提高系统的鲁棒性，然而清除错误的面元会破坏模型的完整性&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Fusion4D👍
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://www.microsoft.com/en-us/research/wp-content/uploads/2016/11/a114-dou.pdf&quot;&gt;Paper [Mingsong Dou]&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;多视角方案&lt;/li&gt;
              &lt;li&gt;引入了key volume&lt;/li&gt;
              &lt;li&gt;对于较大的帧间运动以及网格拓扑发生改变时都有很强的鲁棒性&lt;/li&gt;
              &lt;li&gt;体素碰撞检测&lt;/li&gt;
              &lt;li&gt;输入流帧率过低或者帧间运动过大时，会使帧间对应匹配点估计不准确&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="coursera" /><category term="3D" /><summary type="html">准备看点Coursera</summary></entry><entry><title type="html">Install Remote Browser[remoteview], And Coursera Robotics-Flight week 2</title><link href="https://favormylikes.github.io/env/system/coursera/2021/07/22/Robotics-Flight-week-2.html" rel="alternate" type="text/html" title="Install Remote Browser[remoteview], And Coursera Robotics-Flight week 2" /><published>2021-07-22T11:12:00+08:00</published><updated>2021-07-22T11:12:00+08:00</updated><id>https://favormylikes.github.io/env/system/coursera/2021/07/22/Robotics-Flight-week-2</id><content type="html" xml:base="https://favormylikes.github.io/env/system/coursera/2021/07/22/Robotics-Flight-week-2.html">&lt;h2 id=&quot;remote-chrome-debuging&quot;&gt;remote chrome debuging&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;need ws resever proxy to ws&lt;/li&gt;
  &lt;li&gt;trying to use ipv6 access browser directly&lt;/li&gt;
  &lt;li&gt;trying to ssh tunnel mapping 9222 to 9223&lt;/li&gt;
  &lt;li&gt;still can not fix ws problem&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;try-to-use-remoteviewbase-on-npm&quot;&gt;Try to use remoteview[base on npm]&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;here is the &lt;a href=&quot;https://www.jiyiblog.com/archives/011933.html&quot;&gt;tutorial&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;trying to install remoteview by npm
    &lt;ul&gt;
      &lt;li&gt;npm i remoteview
        &lt;ul&gt;
          &lt;li&gt;but can not access the npm offical website&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;trying to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;npm pack&lt;/code&gt; and npm install, still need web access &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;permission&lt;/code&gt;.&lt;/li&gt;
      &lt;li&gt;trying download all remoteview package [too complex, I give it up]&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;准备看点coursera&quot;&gt;准备看点Coursera&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;week 2
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.coursera.org/learn/robotics-flight/lecture/4hTtQ/axis-angle-representations-for-rotations&quot;&gt;Coursera: robotics-flight&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Euler angle
        &lt;ul&gt;
          &lt;li&gt;对于在三维空间里的一个参考系，任何坐标系的取向，都可以用三个欧拉角来表现&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/a/a1/Eulerangles.svg&quot; width=&quot;200px&quot; alt=&quot;20210722161724&quot; /&gt; &lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/8/85/Euler2a.gif&quot; width=&quot;200px&quot; alt=&quot;20210722161724&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://wikimedia.org/api/rest_v1/media/math/render/svg/f595113fb1de4758a1c61c17fc5b6b9b3a6f5bae&quot; alt=&quot;rotation matrix&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;从左到右依次代表绕着z轴的旋转、绕着交点线的旋转、绕着Z轴的旋转。&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://wikimedia.org/api/rest_v1/media/math/render/svg/e848138776eedd86b3fff5b2e85337ff7b61e20f&quot; alt=&quot;rotation matrix&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Rodrigues’ formula [罗德里格旋转公式 at 1840]
        &lt;ul&gt;
          &lt;li&gt;是在给定转轴和旋转角度后，旋转一个向量的有效算法&lt;/li&gt;
          &lt;li&gt;here’s $\mathbf{k}$  is unit vector&lt;/li&gt;
          &lt;li&gt;$\mathbf{v_{rot}} = \mathbf{v}\cos\theta + (\mathbf{k}\times\mathbf{v})\sin\theta + \mathbf{k}(\mathbf{k}\cdotp\mathbf{v}(1-\cos\theta))$
            &lt;ul&gt;
              &lt;li&gt;proof&lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/c/cc/Orthogonal_decomposition_unit_vector_rodrigues_rotation_formula.svg&quot; width=&quot;300px&quot; alt=&quot;wiki&quot; /&gt;
&lt;span class=&quot;kdmath&quot;&gt;$\begin{aligned}
\mathbf{v_{rot}} &amp;= \mathbf{v_{\parallel rot}} + \mathbf{v_{\perp rot}}\\
&amp;= \mathbf{v_{\parallel}} + \cos(\theta)\mathbf{v_{\perp}} + \sin(\theta)\mathbf{k}\times\mathbf{v} \\
&amp;= \mathbf{v_{\parallel}} + \cos(\theta)(\mathbf{v} - \mathbf{v_{\parallel}}) + \sin(\theta)\mathbf{k}\times\mathbf{v} \\
&amp;= \cos(\theta)\mathbf{v} + (1-\cos(\theta))\mathbf{v_{\parallel}} + \sin(\theta)\mathbf{k}\times\mathbf{v} \\
&amp;= \cos(\theta)\mathbf{v} + (1-\cos(\theta))(\mathbf{k}\cdotp\mathbf{v})\mathbf{k} + \sin(\theta)\mathbf{k}\times\mathbf{v} \\
\end{aligned}$&lt;/span&gt;&lt;/li&gt;
              &lt;li&gt;calculator the rotation matirx given by $\mathbf{k}$ and $\theta$&lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://wikimedia.org/api/rest_v1/media/math/render/svg/fa49bfffbf7815645f831552513cb080d9c5c9f1&quot; alt=&quot;wiki&quot; /&gt;&lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://wikimedia.org/api/rest_v1/media/math/render/svg/734b982cadf1ec3e27f95a27ffa3f77723897261&quot; alt=&quot;wiki&quot; /&gt;&lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://wikimedia.org/api/rest_v1/media/math/render/svg/872982cc31c79a7494afacd6f4417cd933a07e4f&quot; alt=&quot;wiki&quot; /&gt;&lt;/li&gt;
              &lt;li&gt;in term of the matrix exponential
                &lt;ul&gt;
                  &lt;li&gt;&lt;img src=&quot;https://wikimedia.org/api/rest_v1/media/math/render/svg/0dc4aaf32f2974df3eef77cb9c265b19d09e38e1&quot; alt=&quot;wiki&quot; /&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;python code&lt;/li&gt;
            &lt;/ul&gt;

            &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_rotation_matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eye&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theta&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;K&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;K&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;            &lt;/div&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Matrix exponential[矩阵指数]
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Matrix_exponential&quot;&gt;wiki&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/27518189/answer/1471591199&quot;&gt;矩阵的指数函数到底说的是个啥？ - TravorLZH的回答 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;more about &lt;a href=&quot;https://www.math.umd.edu/~immortal/MATH401/ch_exponentials_and_rotations.pdf&quot;&gt;pdf&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Derivative of the rotation matrix
        &lt;ul&gt;
          &lt;li&gt;
            &lt;div class=&quot;kdmath&quot;&gt;$$
\begin{aligned}
  \frac{d}{dt}(A\pm B) &amp;= \dot A \pm \dot B\\
  \frac{d}{dt}(AB) &amp;= \dot A B + A \dot B\\
  \frac{d}{dt}(A(\theta(t))) &amp;= \frac{dA}{d\theta}\dot \theta
  \end{aligned}
$$&lt;/div&gt;
          &lt;/li&gt;
          &lt;li&gt;Angular velocity
            &lt;ul&gt;
              &lt;li&gt;$R^T\dot R = \dot R R^T$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;Skew - Symmetric Matrices and the Hat Operator
            &lt;ul&gt;
              &lt;li&gt;symmetric matrix: $A^T = A$&lt;/li&gt;
              &lt;li&gt;skey-symmetric matrix: $A^T = -A$&lt;/li&gt;
              &lt;li&gt;
                &lt;div class=&quot;kdmath&quot;&gt;$$
\hat a = \hat{\begin{bmatrix}a_1\\a_2\\a_3\end{bmatrix}} = \begin{bmatrix}0&amp;-a_3&amp;a_2\\a_3&amp;0&amp;-a_1\\-a_2&amp;a_1&amp;0\end{bmatrix}
$$&lt;/div&gt;
              &lt;/li&gt;
              &lt;li&gt;$\mathbf{u}\times\mathbf{v} = \hat{\mathbf{u}}\mathbf{v}$&lt;/li&gt;
              &lt;li&gt;$\hat\omega^b = R^T\dot R$&lt;/li&gt;
              &lt;li&gt;$\hat\omega^s = \dot RR^T$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Newton-Euler Equations
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/47868515&quot;&gt;[飞控]从零开始建模(一)-牛顿欧拉方程 - zinghd的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Finish week home work&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="env" /><category term="system" /><category term="coursera" /><summary type="html">remote chrome debuging</summary></entry><entry><title type="html">Robotics-Flight week 1 and 2</title><link href="https://favormylikes.github.io/coursera/system/env/2021/07/21/Robotics-Flight-week-1-and-2.html" rel="alternate" type="text/html" title="Robotics-Flight week 1 and 2" /><published>2021-07-21T10:12:00+08:00</published><updated>2021-07-21T10:12:00+08:00</updated><id>https://favormylikes.github.io/coursera/system/env/2021/07/21/Robotics-Flight-week-1-and-2</id><content type="html" xml:base="https://favormylikes.github.io/coursera/system/env/2021/07/21/Robotics-Flight-week-1-and-2.html">&lt;h2 id=&quot;准备看点coursera课程&quot;&gt;准备看点Coursera课程&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.coursera.org/learn/robotics-flight/&quot;&gt;Coursera: robotics-flight&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Week 1
        &lt;ul&gt;
          &lt;li&gt;State Estimation
            &lt;ul&gt;
              &lt;li&gt;obtaub reliable estimates of position and velocity&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;SLAM(Simultaneous Localization And Mapping)&lt;/li&gt;
          &lt;li&gt;Control for trajectory tracking in a simple second-order system
            &lt;ul&gt;
              &lt;li&gt;PD control
                &lt;ul&gt;
                  &lt;li&gt;$u(t) = x’’^{des}(t)+K_ve’(t)+K_pe(t)$&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
              &lt;li&gt;PID control (proportion integration differentiation)
                &lt;ul&gt;
                  &lt;li&gt;$u(t) = x’’^{des}(t)+K_ve’(t)+K_pe(t)+K_i\int_0^t{e(\tau)d\tau}$&lt;/li&gt;
                  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210721131633.png&quot; alt=&quot;20210721131633&quot; /&gt;&lt;/li&gt;
                  &lt;li&gt;code &lt;a href=&quot;https://ucas.lifelab.space/jupyter/lab/tree/PID_control.ipynb&quot;&gt;Here&lt;/a&gt;&lt;/li&gt;
                  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img/20210721132159.png&quot; alt=&quot;20210721132159&quot; /&gt;&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Week2
        &lt;ul&gt;
          &lt;li&gt;rotation matrix
            &lt;ul&gt;
              &lt;li&gt;is orthogonal matrix&lt;/li&gt;
              &lt;li&gt;all vector is 1&lt;/li&gt;
              &lt;li&gt;$R^{-1} = R^T$&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ubuntu-chromedriver-remote-browser&quot;&gt;Ubuntu chromedriver remote browser&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;apt install libnss3
    &lt;ul&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;fix [Service chromedriver unexpectedly exited. Status code was: 127]&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;wget &lt;a href=&quot;https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&quot;&gt;https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;apt install ./google-chrome-stable_current_amd64.deb&lt;/li&gt;
  &lt;li&gt;try to use nginx reserve proxy to handle 9200 port&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-nginx highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;location&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;/chrome/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_pass&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;http://127.0.0.1:9222/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_http_version&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Upgrade&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$http_upgrade&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;upgrade&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Origin&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;proxy_set_header&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Host&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;[********]&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cause chrome use host as ws address&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;sub_filter&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/json'&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'/chrome/json'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;sub_filter_types&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kn&quot;&gt;sub_filter_once&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;what-is-the-next&quot;&gt;what is the next&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;This request has been blocked; this endpoint must be available over WSS.&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><category term="coursera" /><category term="system" /><category term="env" /><summary type="html">准备看点Coursera课程</summary></entry></feed>