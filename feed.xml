<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.0">Jekyll</generator><link href="https://ucas.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://ucas.io/" rel="alternate" type="text/html" /><updated>2021-11-01T23:33:34+08:00</updated><id>https://ucas.io/feed.xml</id><title type="html">Notes B</title><subtitle>A place for notes on various topics.</subtitle><author><name>麦丽素</name></author><entry><title type="html">3D Render Lib Python</title><link href="https://ucas.io/3d/3D-Render-Lib-Python/" rel="alternate" type="text/html" title="3D Render Lib Python" /><published>2021-11-01T15:02:17+08:00</published><updated>2021-11-01T15:02:17+08:00</updated><id>https://ucas.io/3d/3D-Render-Lib-Python</id><content type="html" xml:base="https://ucas.io/3d/3D-Render-Lib-Python/">&lt;h2 id=&quot;python-3d-render-engine&quot;&gt;Python 3D render engine&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/a/4523262/5587080&quot;&gt;3D Scene Renderer for Python [closed] - stackoverflow&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;First-rate, full game engines (have been used for commercial games)
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.panda3d.org/&quot;&gt;Panda3d&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;
                &lt;p&gt;|Repository|spark|star|
|:-:|:-:|:-:|
|&lt;a href=&quot;https://github.com/panda3d/panda3d&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=panda3d&amp;amp;repo=panda3d&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://github.com/panda3d/panda3d&quot;&gt;&lt;img src=&quot;https://stars.medv.io/panda3d/panda3d.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://starchart.cc/panda3d/panda3d&quot;&gt;&lt;img src=&quot;https://starchart.cc/panda3d/panda3d.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
              &lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/python-3-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.ogre3d.org/tikiwiki/PyOgre&quot;&gt;PyOgre&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;Pyrr (Irrlicht wrapper)&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Less popular 3d engines, new or beta: YMMV.
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.openscenegraph.org/projects/osg&quot;&gt;OpenSceneGraph&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://pduel.sourceforge.net/spyre/spyre.spyre-module.html&quot;&gt;Spyre&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.pysoy.org/&quot;&gt;PySoy&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;Official Web is Dead&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://pypi.python.org/pypi/Soya/0.11.2&quot;&gt;Soya&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.crystalspace3d.org/main/PyCrystal&quot;&gt;PyCrystal&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.horde3d.org/&quot;&gt;Horde3d&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.vtk.org/&quot;&gt;VTK&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://pyrender.readthedocs.io/en/latest/&quot;&gt;pyrender&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;
                &lt;p&gt;|Repository|spark|star|
|:-:|:-:|:-:|
|&lt;a href=&quot;https://github.com/mmatl/pyrender&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=mmatl&amp;amp;repo=pyrender&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://github.com/mmatl/pyrender&quot;&gt;&lt;img src=&quot;https://stars.medv.io/mmatl/pyrender.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://starchart.cc/mmatl/pyrender&quot;&gt;&lt;img src=&quot;https://starchart.cc/mmatl/pyrender.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
              &lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/python-2.7,3.4~3,6-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Low-level OpenGL interfaces - more control
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;http://pyopengl.sourceforge.net/&quot;&gt;PyOpenGL&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://pyglet.org/&quot;&gt;pyglet&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://www.reddit.com/r/Python/comments/7oku8/dear_python_what_panda3d_soya3d_pyopengl_etc/&quot;&gt;🤙Reddit suggest (compare by Panda3D, Soya3D, PyOpenGL, etc…)&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://pypi.org/project/PyWavefront/&quot;&gt;🤙PyWavefront Suggest&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;
                &lt;p&gt;|Repository|spark|star|
|:-:|:-:|:-:|
|&lt;a href=&quot;https://github.com/pyglet/pyglet&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=pyglet&amp;amp;repo=pyglet&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://github.com/pyglet/pyglet&quot;&gt;&lt;img src=&quot;https://stars.medv.io/pyglet/pyglet.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://starchart.cc/pyglet/pyglet&quot;&gt;&lt;img src=&quot;https://starchart.cc/pyglet/pyglet.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
              &lt;/li&gt;
              &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/python-3.6+-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.alcyone.com/software/zoe/&quot;&gt;Zoe&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Non-realtime interfaces
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;http://cgkit.sourceforge.net/documentation.html&quot;&gt;cgkit&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.blender3d.org/&quot;&gt;Blender&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;
                &lt;p&gt;|Repository|spark|star|
|:-:|:-:|:-:|
|&lt;a href=&quot;https://github.com/blender/blender&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=blender&amp;amp;repo=blender&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://github.com/blender/blender&quot;&gt;&lt;img src=&quot;https://stars.medv.io/blender/blender.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://starchart.cc/blender/blender&quot;&gt;&lt;img src=&quot;https://starchart.cc/blender/blender.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
              &lt;/li&gt;
              &lt;li&gt;&lt;a href=&quot;https://www.bilibili.com/s/video/BV1Ji4y1g7Kf&quot;&gt;BiliBili - Blender 新手入门基础教程(1-7集)&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://code.activestate.com/recipes/205451/&quot;&gt;POVray&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;experience&quot;&gt;Experience&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pyglet&lt;/code&gt; + &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PyWavefront&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pywavefront&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Wavefront&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'file.obj'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;visualization&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;draw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;

    &lt;ul&gt;
      &lt;li&gt;Error: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OverflowError: The '_length_' attribute is too large&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;Maybe the model is too large&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211101171201.png&quot; alt=&quot;20211101171201&quot; /&gt;
        &lt;ul&gt;
          &lt;li&gt;It is based on OpenGL looks like.&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;PyTorch3D&lt;/p&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://pytorch3d.org/tutorials/render_textured_meshes&quot;&gt;Example&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;deform_source_mesh_to_target_mesh&lt;/code&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211101183041.png&quot; alt=&quot;20211101183041&quot; /&gt;&lt;/li&gt;
              &lt;li&gt;chamfer_losses: &lt;a href=&quot;https://github.com/UM-ARM-Lab/Chamfer-Distance-API&quot;&gt;chamfer_distance&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;edge_losses: &lt;a href=&quot;https://pytorch3d.readthedocs.io/en/latest/_modules/pytorch3d/loss/mesh_edge_loss.html&quot;&gt;mesh_edge_loss&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;normal_losses: &lt;a href=&quot;https://pytorch3d.readthedocs.io/en/latest/_modules/pytorch3d/loss/mesh_normal_consistency.html&quot;&gt;mesh_normal_consistency&lt;/a&gt;&lt;/li&gt;
              &lt;li&gt;laplacian_losses: &lt;a href=&quot;https://pytorch3d.readthedocs.io/en/latest/modules/loss.html?highlight=mesh_laplacian_smoothing#pytorch3d.loss.mesh_laplacian_smoothing&quot;&gt;mesh_laplacian_smoothing&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle_adjustment&lt;/code&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211101212441.png&quot; alt=&quot;20211101212441&quot; /&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;error:
        &lt;ul&gt;
          &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PIL.Image.DecompressionBombError: Image size (268435456 pixels) exceeds limit of 178956970 pixels, could be decompression bomb DOS attack.&lt;/code&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">Python 3D render engine</summary></entry><entry><title type="html">Pytorch Multi GPU</title><link href="https://ucas.io/3d/Pytorch-Multi-GPU/" rel="alternate" type="text/html" title="Pytorch Multi GPU" /><published>2021-10-27T15:19:10+08:00</published><updated>2021-10-27T15:19:10+08:00</updated><id>https://ucas.io/3d/Pytorch-Multi-GPU</id><content type="html" xml:base="https://ucas.io/3d/Pytorch-Multi-GPU/">&lt;h2 id=&quot;单机多卡&quot;&gt;单机多卡&lt;/h2&gt;

&lt;h3 id=&quot;priori-knowledge&quot;&gt;Priori Knowledge&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Pytorch 1.x 的多机多卡计算模型
    &lt;ul&gt;
      &lt;li&gt;Uber: Horovod, Baidu: RingAllReduce
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://andrew.gibiansky.com/blog/machine-learning/baidu-allreduce&quot;&gt;Baidu: RingAllReduce&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/imgring-gpus.png&quot; alt=&quot;ring-gpus&quot; width=&quot;250px&quot; /&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/imgscatter-reduce-iteration-4.png&quot; alt=&quot;scatter-reduce-iteration-4&quot; width=&quot;250px&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;PS 计算模型
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/imgmaster-slave-gpus.png&quot; alt=&quot;master-slave-gpus&quot; width=&quot;300px&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;dataparallel-dp&quot;&gt;DataParallel [DP]&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;dataset: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FashionMNIST&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Main Code&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;DataParallel&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Parameter server&lt;/code&gt; 算法&lt;/li&gt;
      &lt;li&gt;
        &lt;blockquote&gt;
          &lt;p&gt;reducer的那张卡会多出3-4g的显存占用&lt;/p&gt;
        &lt;/blockquote&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Model
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataParallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Params&lt;/th&gt;
      &lt;th&gt;Speed&lt;/th&gt;
      &lt;th&gt;Mem%&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=3&lt;/td&gt;
      &lt;td&gt;15000it [00:55, 271.38it/s]&lt;/td&gt;
      &lt;td&gt;3:7-13&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=3,4,6&lt;/td&gt;
      &lt;td&gt;15000it [01:48, 138.19it/s]&lt;/td&gt;
      &lt;td&gt;3:4-7,4:3-5,6:0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=2,3,4&lt;/td&gt;
      &lt;td&gt;15000it [01:50, 134.29it/s]&lt;/td&gt;
      &lt;td&gt;2:4-7,3:3-5,4:0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=0,1,2,3&lt;/td&gt;
      &lt;td&gt;15000it [02:59, 83.67it/s]&lt;/td&gt;
      &lt;td&gt;0,1,2,3:2-3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=1,2,3,4,6&lt;/td&gt;
      &lt;td&gt;15000it [02:28, 101.34it/s]]&lt;/td&gt;
      &lt;td&gt;1:4-6,2,3,4:2-4,6:0&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=6&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;CUDNN_STATUS_NOT_INITIALIZED&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;CUDA_VISIBLE_DEVICES=3,6&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;&lt;strong&gt;CUDNN_STATUS_NOT_INITIALIZED&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CUDNN_STATUS_NOT_INITIALIZED&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;Gpu 内存未释放，但未使用，存在僵尸进程&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fuser -v /dev/nvidia*&lt;/code&gt; to check all pid with this device&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fuser -k /dev/nvidia6&lt;/code&gt; kill all processes that using the device nvidia6
        &lt;ul&gt;
          &lt;li&gt;&lt;strong&gt;But it will kill all other processes too&lt;/strong&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;distributeddataparallel-ddp&quot;&gt;DistributedDataParallel [DDP]&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;torch.distributed.get_rank()&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;获得进程号&lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--nproc_per_node=2&lt;/code&gt;时，两个进程的rank是不一样的&lt;/p&gt;

        &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;rank&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distributed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_rank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# 重要
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# 不同的进程会把不同的数据放到不同的GPU上
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# DataLoader 的 sampler处理这一逻辑
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# 因此batch速度会加快
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# tensor(-1578.1804, device='cuda:0'), tensor(-1578.1804, device='cuda:0')
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;保存参数 (只需要在一台机器上执行一次)&lt;/p&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_rank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;saved_model.ckpt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;main code&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DistributedDataParallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;trainloader&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataLoader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trainset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                          &lt;span class=&quot;n&quot;&gt;batch_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;num_workers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                          &lt;span class=&quot;n&quot;&gt;sampler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DistributedSampler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trainset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shuffle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;testloader&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DataLoader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;testset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                                         &lt;span class=&quot;n&quot;&gt;batch_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;n&quot;&gt;num_workers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                         &lt;span class=&quot;n&quot;&gt;sampler&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DistributedSampler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;testset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shuffle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nproc_per_node&lt;/code&gt;: node&lt;/li&gt;
&lt;/ul&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Speed&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;CUDA&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;LOCAL_RANK&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;OMP&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;node&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Mem%&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;epoch&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Loss&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;7500it [00:32, 229.33it/s]*2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3:7-13&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.4727&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;3750it [00:17, 210.65it/s]*4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6:17-30&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.6172&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;7500it [00:32, 228.66it/s]*2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3:17-30&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.4878&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;15000it [01:00, 210.65it/s]&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0:17-30&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.4165&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;7500it [00:32, 228.66it/s]*4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3:17-30&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.3774&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;3750it [00:25, 149.55it/s]*16&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0,3,5,6:17-30&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.3563&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;多机多卡&quot;&gt;多机多卡&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;nnodes
    &lt;ul&gt;
      &lt;li&gt;机器数&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;node_rank
    &lt;ul&gt;
      &lt;li&gt;当前机器序号&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;nproc_per_node
    &lt;ul&gt;
      &lt;li&gt;每台机器上进程数&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;address, port
    &lt;ul&gt;
      &lt;li&gt;通讯地址及端口&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;gpu-monitor&quot;&gt;Gpu Monitor&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/NVIDIA/gpu-monitoring-tools&quot;&gt;Github - NVIDIA/gpu-monitoring-tools&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;deprecated&lt;/strong&gt; at August 2021&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/NVIDIA/dcgm-exporter&quot;&gt;NVIDIA/dcgm-exporter&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;
        &lt;table&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th style=&quot;text-align: center&quot;&gt;Repository&lt;/th&gt;
              &lt;th style=&quot;text-align: center&quot;&gt;spark&lt;/th&gt;
              &lt;th style=&quot;text-align: center&quot;&gt;star&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr&gt;
              &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/NVIDIA/dcgm-exporter&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=NVIDIA&amp;amp;repo=dcgm-exporter&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
              &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/NVIDIA/dcgm-exporter&quot;&gt;&lt;img src=&quot;https://stars.medv.io/NVIDIA/dcgm-exporter.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
              &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://starchart.cc/NVIDIA/dcgm-exporter&quot;&gt;&lt;img src=&quot;https://starchart.cc/NVIDIA/dcgm-exporter.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;&lt;a href=&quot;https://docs.nvidia.com/datacenter/cloud-native/gpu-telemetry/dcgm-exporter.html&quot;&gt;Offcial Doc&lt;/a&gt;&lt;/p&gt;

        &lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;gp&quot;&gt;DCGM_EXPORTER_VERSION=2.1.4-2.3.1 &amp;amp;&amp;amp; docker run -d --rm --gpus all    --net host --cap-add SYS_ADMIN nvcr.io/nvidia/k8s/dcgm-exporter:$&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;DCGM_EXPORTER_VERSION&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;-ubuntu20&lt;/span&gt;.04 &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; /etc/dcgm-exporter/dcp-metrics-included.csv
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Prometheus
    &lt;ul&gt;
      &lt;li&gt;config&lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;job_name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;gpu'&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;scheme&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;http'&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;metrics_path&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;/metrics'&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;static_configs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;targets&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;localhost:9400'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Grafana
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://grafana.com/docs/grafana/latest/installation/debian/&quot;&gt;Install&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211028112306.png&quot; alt=&quot;20211028112306&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://grafana.com/grafana/dashboards/12239&quot;&gt;DashBoard import 12239&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Fish
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo apt install fish&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;chsh -s /usr/bin/fish&lt;/code&gt; change default bash to fish&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conda init fish&lt;/code&gt; at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bash&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conda config --set auto_activate_base true&lt;/code&gt;, auto activate base&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/178402798&quot;&gt;🤙[原创][深度][PyTorch] DDP系列第一篇：入门教程 - 996黄金一代的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/86441879&quot;&gt;pytorch多gpu并行训练 - link-web的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/74792767&quot;&gt;【分布式训练】单机多卡的正确打开方式（三）：PyTorch - Nicolas的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/21569493&quot;&gt;【深度学习分布式】Parameter Server 详解 - 仙道菜的文章 - 知乎&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;

        &lt;table&gt;
          &lt;thead&gt;
            &lt;tr&gt;
              &lt;th style=&quot;text-align: center&quot;&gt;Repository&lt;/th&gt;
              &lt;th style=&quot;text-align: center&quot;&gt;spark&lt;/th&gt;
              &lt;th style=&quot;text-align: center&quot;&gt;star&lt;/th&gt;
            &lt;/tr&gt;
          &lt;/thead&gt;
          &lt;tbody&gt;
            &lt;tr&gt;
              &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/apache/incubator-mxnet&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=apache&amp;amp;repo=incubator-mxnet&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
              &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/apache/incubator-mxnet&quot;&gt;&lt;img src=&quot;https://stars.medv.io/apache/incubator-mxnet.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
              &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://starchart.cc/apache/incubator-mxnet&quot;&gt;&lt;img src=&quot;https://starchart.cc/apache/incubator-mxnet.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /></entry><entry><title type="html">VPN Share</title><link href="https://ucas.io/share/VPN-Share/" rel="alternate" type="text/html" title="VPN Share" /><published>2021-10-26T15:17:17+08:00</published><updated>2021-10-26T15:17:17+08:00</updated><id>https://ucas.io/share/VPN-Share</id><content type="html" xml:base="https://ucas.io/share/VPN-Share/">&lt;h2 id=&quot;翻墙小白入门&quot;&gt;翻墙小白入门&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;历史
    &lt;ul&gt;
      &lt;li&gt;hosts
|Repository|spark|star|
|:-:|:-:|:-:|
|&lt;a href=&quot;https://github.com/googlehosts/hosts&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=googlehosts&amp;amp;repo=hosts&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://github.com/googlehosts/hosts&quot;&gt;&lt;img src=&quot;https://stars.medv.io/googlehosts/hosts.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://starchart.cc/googlehosts/hosts&quot;&gt;&lt;img src=&quot;https://starchart.cc/googlehosts/hosts.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;自由门
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026123814.png&quot; alt=&quot;20211026123814&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;GoAgent
        &lt;ul&gt;
          &lt;li&gt;GAE&lt;/li&gt;
          &lt;li&gt;to 2015-8&lt;/li&gt;
          &lt;li&gt;GoProxy&lt;/li&gt;
          &lt;li&gt;to 2015-3&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;ss [clowwindy]
|Repository|spark|star|
|:-:|:-:|:-:|
|&lt;a href=&quot;https://github.com/shadowsocks/shadowsocks-windows&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=shadowsocks&amp;amp;repo=shadowsocks-windows&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://github.com/shadowsocks/shadowsocks-windows&quot;&gt;&lt;img src=&quot;https://stars.medv.io/shadowsocks/shadowsocks-windows.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;|&lt;a href=&quot;https://starchart.cc/shadowsocks/shadowsocks-windows&quot;&gt;&lt;img src=&quot;https://starchart.cc/shadowsocks/shadowsocks-windows.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;2012年4月22日 发布&lt;/li&gt;
          &lt;li&gt;2015年8月18日 警察&lt;/li&gt;
          &lt;li&gt;2015年8月21日 喝茶&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://gfw.report/blog/gfw_shadowsocks/zh.html&quot;&gt;Shadowsocks 是如何被检测和封锁的&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;ssr [breakwa11]
        &lt;ul&gt;
          &lt;li&gt;评价
            &lt;ul&gt;
              &lt;li&gt;&lt;a href=&quot;https://github.com/shadowsocks/shadowsocks-windows/issues/293#issuecomment-132253168&quot;&gt;shadosocks-windows/Issue108&lt;/a&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;2017年7月27日 停止
            &lt;ul&gt;
              &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026154124.png&quot; alt=&quot;20211026154124&quot; /&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;事件列表
        &lt;ul&gt;
          &lt;li&gt;2017年1月《关于清理规范互联网网络接入服务市场的通知》
            &lt;ul&gt;
              &lt;li&gt;2017年7月底，中国区 App Store 多款 VPN 相关应用在无任何说明与通知的情况下，突然集体被下架&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;2017年10月, 十九大, 封杀, SSR
            &lt;ul&gt;
              &lt;li&gt;大会闭幕后, IP解封&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;2018年1月, 两会, 更大规模的封杀&lt;/li&gt;
          &lt;li&gt;2018年9月30日, 《公安机关互联网安全监督检查规定》&lt;/li&gt;
          &lt;li&gt;孙东洋, 逗比根据地
            &lt;ul&gt;
              &lt;li&gt;2019年3月25日, 新密市人民检察院依法以提供侵入计算机系统工具罪对&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;孙东洋&lt;/code&gt;提起公诉&lt;/li&gt;
              &lt;li&gt;2019年5月31日, 宣判
                &lt;ul&gt;
                  &lt;li&gt;有期徒刑3年，缓刑4年，罚金两万元&lt;/li&gt;
                &lt;/ul&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;秋水逸冰
            &lt;ul&gt;
              &lt;li&gt;2019年05月14日，退出&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;2019年09月16日 - 2019年09月22日网络安全宣传周
            &lt;ul&gt;
              &lt;li&gt;机场被封&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;v2ray
    &lt;ul&gt;
      &lt;li&gt;client
        &lt;ul&gt;
          &lt;li&gt;V2RayW &lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/microsoft_windows-20.png&quot; alt=&quot;win&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;V2RayU &lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/iOS-20.png&quot; alt=&quot;ios&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;Qv2ray &lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/microsoft_windows-20.png&quot; alt=&quot;win&quot; /&gt;&lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/iOS-20.png&quot; alt=&quot;ios&quot; /&gt;&lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/linux_tox-20.png&quot; alt=&quot;linux&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;V2RayNG &lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/android-20.png&quot; alt=&quot;android&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;Shadowrocket &lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/android-20.png&quot; alt=&quot;android&quot; /&gt;&lt;img src=&quot;https://cdn1.iconfinder.com/data/icons/system-black-circles/512/iOS-20.png&quot; alt=&quot;ios&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;vmesss&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://developers.google.com/protocol-buffers&quot;&gt;protobuff&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026161915.png&quot; alt=&quot;20211026161915&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;python or go client&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;封禁检查
    &lt;ul&gt;
      &lt;li&gt;丢包监控
        &lt;ul&gt;
          &lt;li&gt;pine.pe&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026163001.png&quot; alt=&quot;20211026163001&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;真人概率
        &lt;ul&gt;
          &lt;li&gt;ipip.net&lt;/li&gt;
          &lt;li&gt;rtbasia&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026163048.png&quot; alt=&quot;20211026163048&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;抖音
        &lt;ul&gt;
          &lt;li&gt;cdc检测&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;数据流
    &lt;ul&gt;
      &lt;li&gt;指纹检测
        &lt;ul&gt;
          &lt;li&gt;sssniff
            &lt;ul&gt;
              &lt;li&gt;
                &lt;blockquote&gt;
                  &lt;p&gt;It computes entropy of the first 32 packet lengths of each TCP connection. When the entropy is larger than a threshold, the connection is detected as a SSR connection.&lt;/p&gt;
                &lt;/blockquote&gt;
              &lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;防窃听
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026180221.png&quot; alt=&quot;20211026180221&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;监控
    &lt;ul&gt;
      &lt;li&gt;grafana
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026182104.png&quot; alt=&quot;20211026182104&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Prometheus
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026175915.png&quot; alt=&quot;20211026175915&quot; /&gt;&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026175601.png&quot; alt=&quot;20211026175601&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;法律风险
    &lt;ul&gt;
      &lt;li&gt;&lt;strong&gt;提供侵入、非法控制计算机信息系统程序、工具罪&lt;/strong&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;strong&gt;刑法 第285条第3款&lt;/strong&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026165349.png&quot; alt=&quot;20211026165349&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026165413.png&quot; alt=&quot;20211026165413&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img1635237725(1).jpg&quot; alt=&quot;1635237725(1)&quot; width=&quot;40%&quot; /&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026164334.png&quot; alt=&quot;20211026164334&quot; width=&quot;40%&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;国家比较
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211026163421.png&quot; alt=&quot;20211026163421&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Reference
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/KeiKinn/ShadowsocksBio&quot;&gt;KeiKinn/ShadowsocksBio&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="share" /><summary type="html">翻墙小白入门</summary></entry><entry><title type="html">Pytorch Gpu</title><link href="https://ucas.io/3d/Pytorch-GPU/" rel="alternate" type="text/html" title="Pytorch Gpu" /><published>2021-10-25T22:59:21+08:00</published><updated>2021-10-25T22:59:21+08:00</updated><id>https://ucas.io/3d/Pytorch-GPU</id><content type="html" xml:base="https://ucas.io/3d/Pytorch-GPU/">&lt;h2 id=&quot;pytorch-using-gpu-to-training&quot;&gt;Pytorch using GPU to training&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Make input data and model to cuda device
    &lt;ul&gt;
      &lt;li&gt;
        &lt;p&gt;for Model&lt;/p&gt;

        &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cuda&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is_available&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;device&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;torch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;cuda&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;for data&lt;/p&gt;

        &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
      &lt;li&gt;
        &lt;p&gt;verify&lt;/p&gt;

        &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cuda
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;device&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cuda
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Make output data to cpu device
    &lt;ul&gt;
      &lt;li&gt;for data&lt;/li&gt;
    &lt;/ul&gt;

    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;net&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;images&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;# images&amp;gt;gpu, net&amp;gt;gpu, output&amp;gt;gpu
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# output&amp;gt;cpu
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;images&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;images&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# images&amp;gt;cpu
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cpu&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# labels&amp;gt;cpu
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;follow-2-to-training-by-pytorch&quot;&gt;Follow [2] to training by pytorch&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211025231533.png&quot; alt=&quot;20211025231533&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/158375254&quot;&gt;PyTorch 20.GPU训练 - 科技猛兽的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://pytorch.org/tutorials/intermediate/tensorboard_tutorial.html&quot;&gt;VISUALIZING MODELS, DATA, AND TRAINING WITH TENSORBOARD - Pytorch&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/57832423/convert-cuda-tensor-to-numpy&quot;&gt;Convert CUDA tensor to NumPy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">Pytorch using GPU to training</summary></entry><entry><title type="html">MPI Paper Reading</title><link href="https://ucas.io/3d/MPI-Paper-Reading/" rel="alternate" type="text/html" title="MPI Paper Reading" /><published>2021-10-22T15:37:35+08:00</published><updated>2021-10-22T15:37:35+08:00</updated><id>https://ucas.io/3d/MPI-Paper-Reading</id><content type="html" xml:base="https://ucas.io/3d/MPI-Paper-Reading/">&lt;h2 id=&quot;mpi-single-view-view-synthesis-with-multiplane-images&quot;&gt;&lt;a href=&quot;https://arxiv.org/abs/2004.11364&quot;&gt;MPI: Single-view view synthesis with multiplane images&lt;/a&gt;&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Repository&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;spark&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;star&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/google-research/google-research&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=google-research&amp;amp;repo=google-research&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/google-research/google-research&quot;&gt;&lt;img src=&quot;https://stars.medv.io/google-research/google-research.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://starchart.cc/google-research/google-research&quot;&gt;&lt;img src=&quot;https://starchart.cc/google-research/google-research.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://single-view-mpi.github.io/&quot;&gt;Github.io&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/CVPR-2020-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-60-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211019123036.png&quot; alt=&quot;20211019123036&quot; /&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://colab.research.google.com/github/google-research/google-research/blob/master/single_view_mpi/example.ipynb#scrollTo=7vbB3JcaqirL&quot;&gt;Colab&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211022154325.png&quot; alt=&quot;20211022154325&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;term or concept
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;non-Lambertian effects&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/question/26290341/answer/32587285&quot;&gt;为什么太阳看起来像一个均匀发光圆盘? - a crysfer的回答 - 知乎&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Lambertian_reflectance&quot;&gt;Lambertian reflectance - WikiPidea&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E5%B9%BE%E4%BD%95%E5%8F%8D%E7%85%A7%E7%8E%87&quot;&gt;几何反照率 - WikiPidea&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;
            &lt;blockquote&gt;
              &lt;p&gt;发光强度和亮度的概念不仅适用于自己发光的物体，也可以应用到反射体。光线射到光滑的表面上，定向地发射出去；射到粗糙的表面上时，它将朝向所有方向漫射。一个理想的漫射面，应是遵循朗伯定律的，即不管入射光来自何方，沿各方向漫射光的发光强度总与cosθ成正比，从而亮度相同。积雪、刷粉的白墙或十分粗糙的白纸表面，都很接近这类理想的漫射面。这类物体称为朗伯反射体。&lt;/p&gt;
            &lt;/blockquote&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">MPI: Single-view view synthesis with multiplane images</summary></entry><entry><title type="html">The Path to Nerf</title><link href="https://ucas.io/3d/LLFF-To-NeRF/" rel="alternate" type="text/html" title="The Path to Nerf" /><published>2021-10-21T14:44:18+08:00</published><updated>2021-10-21T14:44:18+08:00</updated><id>https://ucas.io/3d/LLFF-To-NeRF</id><content type="html" xml:base="https://ucas.io/3d/LLFF-To-NeRF/">&lt;h2 id=&quot;llff&quot;&gt;LLFF&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Prepare Image&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;go&quot;&gt;data/desk/images
├── 2c68275866dc2b1da47f5eaf885c583.jpg
├── 2fd70dcc8b5f374886df488054fa5ab.jpg
├── 34df512a279040a3820c531c13d5e17.jpg
├── 358af944c88b7a3ff231e4e2eeafdd0.jpg
├── 3808e607c1cf63cebf12b29dc7f2442.jpg
├── 5dbf835776758757c2be8b5ee08e17b.jpg
├── 9ca4a35fffb7a69f84be9e1f2945848.jpg
├── d86ac4a847edb12b6dcded776d47732.jpg
├── e1402fe72717cfac86bd9cd69c3b98f.jpg
├── f2dfe38840ae9fd02dd33fa09dad769.jpg
├── fd177d4977813dfce11b09f71797e01.jpg
└── ff21b26780837071d7980447866f217.jpg
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;At LLFF project directory&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;nvidia-docker run &lt;span class=&quot;nt&quot;&gt;--rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--env&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;CUDA_VISIBLE_DEVICES&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;3 &lt;span class=&quot;nt&quot;&gt;--volume&lt;/span&gt; /:/host &lt;span class=&quot;nt&quot;&gt;--workdir&lt;/span&gt; /host&lt;span class=&quot;nv&quot;&gt;$PWD&lt;/span&gt; tf_colmap bash demo.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--env CUDA_VISIBLE_DEVICES=3&lt;/code&gt; is docker container env.&lt;/li&gt;
  &lt;li&gt;Use watch command to check which gpu is available
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;watch 'nvidia-smi | grep Default'&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211021192003.png&quot; alt=&quot;20211021192003&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;output&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;go&quot;&gt;data/desk
├── colmap_output.txt
├── database.db
├── images
├── images_480x360
├── mpis_360
├── outputs
├── poses_bounds.npy
└── sparse
    └── 0
        ├── cameras.bin
        ├── images.bin
        ├── points3D.bin
        └── project.ini
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/LXCnnWBqoYQ&quot; title=&quot;YouTube video player&quot; frameborder=&quot;0&quot; allow=&quot;accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;attention&quot;&gt;Attention&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;拍摄的图片需要是个矩阵，不然容易报错
    &lt;ul&gt;
      &lt;li&gt;报错代码主要位置&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;llff/poses/pose_utils.py:66&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;docker-越权&quot;&gt;Docker 越权&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;docker run -it --volume /:/host tf_colmap&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;change &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/host/etc/sudoers&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;append &lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lihuibin    ALL=(ALL:ALL) ALL&lt;/code&gt;&lt;/strong&gt; below &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;root    ALL=(ALL:ALL) ALL&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/hellozpc/article/details/46952595&quot;&gt;linux下添加用户并赋予root权限&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;nerf&quot;&gt;Nerf&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;issues
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ffmpeg: Unrecognized option 'crf'. Error splitting the argument list: Option not found&lt;/code&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://superuser.com/questions/1302753/ffmpeg-unrecognized-option-crf-error-splitting-the-argument-list-option-not&quot;&gt;stackoverflow&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;remove ffmpeg from conda
            &lt;ul&gt;
              &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conda remove --force ffmpeg&lt;/code&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
          &lt;li&gt;install ffmpeg with apt
            &lt;ul&gt;
              &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo apt install ffmpeg&lt;/code&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">LLFF</summary></entry><entry><title type="html">The Path to Nerf</title><link href="https://ucas.io/3d/The-Path-To-Nerf/" rel="alternate" type="text/html" title="The Path to Nerf" /><published>2021-10-18T14:44:18+08:00</published><updated>2021-10-18T14:44:18+08:00</updated><id>https://ucas.io/3d/The-Path-To-Nerf</id><content type="html" xml:base="https://ucas.io/3d/The-Path-To-Nerf/">&lt;h2 id=&quot;three-tools-to-create-citation-mapping&quot;&gt;Three tools to create citation mapping&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://aarontay.medium.com/3-new-tools-to-try-for-literature-mapping-connected-papers-inciteful-and-litmaps-a399f27622a&quot;&gt;3 new tools to try for Literature mapping — Connected Papers, Inciteful and Litmaps - Medium&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.connectedpapers.com/&quot;&gt;Connected Papers&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018144925.png&quot; alt=&quot;20211018144925&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://inciteful.xyz/&quot;&gt;Inciteful&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018144807.png&quot; alt=&quot;20211018144807&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.litmaps.co/&quot;&gt;Litmaps🤙&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018151119.png&quot; alt=&quot;20211018151119&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.cocites.com/&quot;&gt;CoCites&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;Has chrome extension&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://citationgecko.com/&quot;&gt;Citation Gecko&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;Too simple&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018152955.png&quot; alt=&quot;20211018152955&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.vosviewer.com/&quot;&gt;VOSviewer&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;Need data file&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;nerf-path-track&quot;&gt;NeRF Path Track&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211019231223.png&quot; alt=&quot;20211019231223&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;[2D变3D，视角随意换，神还原高清立体感，还是不用3D建模的那种&lt;/td&gt;
          &lt;td&gt;代码数据开源 - 量子位的文章 - 知乎](https://zhuanlan.zhihu.com/p/128554388)&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://medium.com/%E8%BB%9F%E9%AB%94%E4%B9%8B%E5%BF%83/%E7%99%BD%E8%A9%B1neural-radiance-fields-nerf-%E9%A1%9E%E7%A5%9E%E7%B6%93%E7%B6%B2%E8%B7%AF%E5%9C%A8view-synthesis%E7%9A%84%E7%86%B1%E9%96%80%E6%96%B0%E6%96%B9%E5%90%91-23be9411d399&quot;&gt;白话神经辐射场（NeRF）：类神经网路在查看综合的热门新方向 - medium&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;prior&quot;&gt;Prior&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Volume Rendering
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://zh.wikipedia.org/wiki/%E7%AB%8B%E4%BD%93%E6%B8%B2%E6%9F%93&quot;&gt;立体渲染 - WikiPidea&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/56710440&quot;&gt;体渲染数学原理 - 杨超wantnon的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/260540982&quot;&gt;【译】实时体渲染——第一章 体渲染 - Maple的文章 - 知乎&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://dl.acm.org/doi/abs/10.1145/1103900.1103929&quot;&gt;Real-Time Volume Graphics&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/SIGGRAPH-2004-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-996-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://dl.acm.org/doi/abs/10.1145/964965.808594&quot;&gt;Ray tracing volume densities&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/SIGGRAPH-1984-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-1296-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://graphics.stanford.edu/papers/light/&quot;&gt;LFR&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://dl.acm.org/doi/10.1145/237170.237199&quot;&gt;Light field rendering&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/SIGGRAPH-1996-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-5237-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/24982662&quot;&gt;漫谈计算摄影学 (一)：直观理解光场(Light Field) - YE Y的文章 - 知乎&lt;/a&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;https://raytrix.de/&quot;&gt;Raytrix&lt;/a&gt;
            &lt;ul&gt;
              &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/imgf8abeb4e7d5f1ff2e7d1d38b159cb02.png&quot; alt=&quot;f8abeb4e7d5f1ff2e7d1d38b159cb02&quot; /&gt;&lt;/li&gt;
            &lt;/ul&gt;
          &lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://grail.cs.washington.edu/projects/ldi/&quot;&gt;LDI&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://grail.cs.washington.edu/projects/ldi/&quot;&gt;Layered Depth Images&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/SIGGRAPH-1998-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-1656-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211019151938.png&quot; alt=&quot;20211019151938&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bmild.github.io/llff/&quot;&gt;LLFF&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://bmild.github.io/llff/&quot;&gt;Local Light Field Fusion: Practical View Synthesis with Prescriptive Sampling Guidelines&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/Fyusion/LLFF&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/SIGGRAPH-2019-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-198-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://arxiv.org/abs/1805.09817&quot;&gt;Stereo Magnification: Learning View Synthesis using Multiplane Images - Google&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;多张多视角图片生成MPI&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://tinghuiz.github.io/projects/mpi/&quot;&gt;Github.io&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/SIGGRAPH-2018-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-275-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018232827.png&quot; alt=&quot;20211018232827&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;Multiplane Images&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;future&quot;&gt;Future&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://openaccess.thecvf.com/content/ICCV2021/html/Li_MINE_Towards_Continuous_Depth_MPI_With_NeRF_for_Novel_View_ICCV_2021_paper.html&quot;&gt;MINE: Towards Continuous Depth MPI With NeRF for Novel View Synthesis - ByteDances&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/ICCV-2021-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-0-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/vincentfung13/MINE&quot;&gt;GithHub&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211019123823.png&quot; alt=&quot;20211019123823&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;
        &lt;table&gt;
          &lt;tbody&gt;
            &lt;tr&gt;
              &lt;td&gt;[ICCV 2021&lt;/td&gt;
              &lt;td&gt;字节跳动利用单张图片做三维重建：将NeRF、MPI结合，提出MINE - 不爱玩的小玩家的文章 - 知乎](https://zhuanlan.zhihu.com/p/419468401)&lt;/td&gt;
            &lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://arxiv.org/abs/2004.11364&quot;&gt;MPI: Single-view view synthesis with multiplane images&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://single-view-mpi.github.io/&quot;&gt;Github.io&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;单张多视角图片生成MPI&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/CVPR-2020-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-60-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211019123036.png&quot; alt=&quot;20211019123036&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://colab.research.google.com/github/google-research/google-research/blob/master/single_view_mpi/example.ipynb#scrollTo=7vbB3JcaqirL&quot;&gt;Colab&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://arxiv.org/abs/2011.12100&quot;&gt;GIRAFFE: Representing Scenes as Compositional Generative Neural Feature Fields&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/CVPR-2021-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-30-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/autonomousvision/giraffe&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://bmild.github.io/fourfeat/&quot;&gt;fourfeat&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://arxiv.org/abs/2006.10739&quot;&gt;Fourier Features Let Networks Learn
High Frequency Functions in Low Dimensional Domains&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/NeurIPS-2020-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-171-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;mesure&quot;&gt;Mesure&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;PSNR
    &lt;ul&gt;
      &lt;li&gt;Peak signal-to-noise ratio, 尖峰信噪比&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018203024.png&quot; alt=&quot;20211018203024&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;SSIM
    &lt;ul&gt;
      &lt;li&gt;Structural similarity&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Structural_similarity&quot;&gt;Wikipidea&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;结构相似性在影像品质的衡量上更能符合人眼对影像品质的判断&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211018202834.png&quot; alt=&quot;20211018202834&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;LPIPS
    &lt;ul&gt;
      &lt;li&gt;Learned Perceptual Image Patch Similarity&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/richzhang/PerceptualSimilarity&quot;&gt;git richzhang/PerceptualSimilarity&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">Three tools to create citation mapping</summary></entry><entry><title type="html">Nerf</title><link href="https://ucas.io/3d/Nerf/" rel="alternate" type="text/html" title="Nerf" /><published>2021-10-14T23:16:43+08:00</published><updated>2021-10-14T23:16:43+08:00</updated><id>https://ucas.io/3d/Nerf</id><content type="html" xml:base="https://ucas.io/3d/Nerf/">&lt;h2 id=&quot;nerf&quot;&gt;Nerf&lt;/h2&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;Repository&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;spark&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;star&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/yenchenlin/nerf-pytorch&quot;&gt;&lt;img src=&quot;https://github-readme-stats.vercel.app/api/pin/?username=yenchenlin&amp;amp;repo=nerf-pytorch&amp;amp;show_owner=true&quot; alt=&quot;Readme Card&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://github.com/yenchenlin/nerf-pytorch&quot;&gt;&lt;img src=&quot;https://stars.medv.io/yenchenlin/nerf-pytorch.svg&quot; alt=&quot;Sparkline&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;&lt;a href=&quot;https://starchart.cc/yenchenlin/nerf-pytorch&quot;&gt;&lt;img src=&quot;https://starchart.cc/yenchenlin/nerf-pytorch.svg&quot; width=&quot;200px&quot; /&gt;&lt;/a&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.matthewtancik.com/nerf&quot;&gt;Nerf HomePage&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://img.shields.io/badge/ECCV-2020-blue?style=flat-square&quot; alt=&quot;j&quot; /&gt;&lt;img src=&quot;https://img.shields.io/badge/cite-458-blue?style=flat-square&quot; alt=&quot;cite&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://cseweb.ucsd.edu/~ravir/pratul_eccv20.pdf&quot;&gt;Paper.pdf&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;key-point&quot;&gt;Key Point&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;输入是位置和视角方向$(x,y,z) + (\theta, \phi)$构成的5D坐标，输出是体积密度和颜色
    &lt;ul&gt;
      &lt;li&gt;Position encoding可以提高细节&lt;/li&gt;
      &lt;li&gt;层次化的采样流程可以减少采样&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;通过&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;volume rendering&lt;/code&gt;实现视图合成&lt;/li&gt;
  &lt;li&gt;全连接网络&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MLP&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211014233233.png&quot; alt=&quot;20211014233233&quot; /&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.cnblogs.com/noluye/p/14547115.html&quot;&gt;【论文精炼】何雨龙 - cnblogs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=CRlN-cYFxTk&quot;&gt;nerf(ML Research Paper Explained) - Youtube&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/187541908&quot;&gt;图形学新高潮? NeRF 笔记 - Lee bro的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://wandb.ai/wandb_fc/chinese/reports/NeRF-Neural-Radiance-Fields-View-Synthesis---VmlldzozNDQxNzk&quot;&gt;NeRF ——使用神经辐射场(Neural Radiance Fields)表示场景来进行视图合成(View Synthesis)🤙&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/360365941&quot;&gt;【NeRF论文笔记】用于视图合成的神经辐射场技术 - 林天威的文章 - 知乎&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">Nerf</summary></entry><entry><title type="html">Texture for invisible</title><link href="https://ucas.io/3d/Texture-for-invisible-face/" rel="alternate" type="text/html" title="Texture for invisible" /><published>2021-10-09T11:19:26+08:00</published><updated>2021-10-09T11:19:26+08:00</updated><id>https://ucas.io/3d/Texture-for-invisible-face</id><content type="html" xml:base="https://ucas.io/3d/Texture-for-invisible-face/">&lt;h2 id=&quot;causes-of-no-texture&quot;&gt;Causes of no texture&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bInvisibleFace || bInvisibleFaceAdj == Ture&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211009111851.png&quot; alt=&quot;20211009111851&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bInvisibleFace == True&lt;/code&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211009132134.png&quot; alt=&quot;20211009132134&quot; /&gt;&lt;/li&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211009132157.png&quot; alt=&quot;20211009132157&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;mesh问题
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/imgo.gif&quot; alt=&quot;o&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;c-tech&quot;&gt;C++ Tech&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.360doc.com/content/19/0212/20/496343_814522118.shtml&quot;&gt;调用约定——_cdecl,_stdcall,_fastcall&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;img src=&quot;https://raw.githubusercontent.com/FavorMylikes/hackmd-note/img/img20211009232731.png&quot; alt=&quot;20211009232731&quot; /&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">Causes of no texture</summary></entry><entry><title type="html">Cmake Bug</title><link href="https://ucas.io/3d/Cmake-Bug/" rel="alternate" type="text/html" title="Cmake Bug" /><published>2021-10-08T15:56:23+08:00</published><updated>2021-10-08T15:56:23+08:00</updated><id>https://ucas.io/3d/Cmake-Bug</id><content type="html" xml:base="https://ucas.io/3d/Cmake-Bug/">&lt;h2 id=&quot;cmake-can-not-find-openmp&quot;&gt;Cmake can not find &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OpenMP&lt;/code&gt;&lt;/h2&gt;

&lt;ol&gt;
  &lt;li&gt;Clion(2021.2.2) use the default Cmake version is 3.20.2
    &lt;ol&gt;
      &lt;li&gt;
        &lt;p&gt;Got following error at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;path-to-build/CMakeFiles/CMakeError.log&lt;/code&gt;&lt;/p&gt;

        &lt;div class=&quot;language-console highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;go&quot;&gt;  -- The C compiler identification is MSVC 19.29.30133.0
  -- The CXX compiler identification is MSVC 19.29  30133.0
  -- Detecting C compiler ABI info
  -- Detecting C compiler ABI info - failed
  -- Check for working C compiler: C:/Program Files  (x86)/Microsoft Visual Studio/2019/BuildTools/VC  Tools/MSVC/14.29.30133/bin/Hostx64/x64/cl.exe
  -- Check for working C compiler: C:/Program Files  (x86)/Microsoft Visual Studio/2019/BuildTools/VC  Tools/MSVC/14.29.30133/bin/Hostx64/x64/cl.exe -  works
  -- Detecting C compile features
  -- Detecting C compile features - done
  -- Detecting CXX compiler ABI info
  -- Detecting CXX compiler ABI info - failed
  -- Check for working CXX compiler: C:/Program  Files (x86)/Microsoft Visual Studio/2019  BuildTools/VC/Tools/MSVC/14.29.30133/bin/Hostx64  x64/cl.exe
  -- Check for working CXX compiler: C:/Program  Files (x86)/Microsoft Visual Studio/2019  BuildTools/VC/Tools/MSVC/14.29.30133/bin/Hostx64  x64/cl.exe - works
  -- Detecting CXX compile features
  -- Detecting CXX compile features - done
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;        &lt;/div&gt;
      &lt;/li&gt;
    &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;After a few tests, I have a status table at below, we can follow this &lt;a href=&quot;https://youtrack.jetbrains.com/issue/CPP-26827&quot;&gt;issue&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;
    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt; &lt;/th&gt;
          &lt;th&gt;PC1[xps]&lt;/th&gt;
          &lt;th&gt;PC2[ucas]&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;clion(cmake 3.20.2)&lt;/td&gt;
          &lt;td&gt;❌&lt;/td&gt;
          &lt;td&gt;✅&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;cmake 3.21.3&lt;/td&gt;
          &lt;td&gt;❌&lt;/td&gt;
          &lt;td&gt;✅&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;cmake 3.19.8&lt;/td&gt;
          &lt;td&gt;✅warning(CMAKE_DEPENDS_USE_COMPILER)&lt;/td&gt;
          &lt;td&gt;✅&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;change clion use cmake 3.19.8, the problem has gone&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;how-to-use-openmp&quot;&gt;How to use OpenMp&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Need some attention code at CMakeLists.txt&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CMakeLists.txt&lt;/code&gt;&lt;/p&gt;

    &lt;div class=&quot;language-cmake highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nf&quot;&gt;FIND_PACKAGE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;OpenMP&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;SET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;CMAKE_CXX_FLAGS &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;CMAKE_CXX_FLAGS&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;OpenMP_CXX_FLAGS&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OMP_NUM_THREADS=4&lt;/code&gt; at env To Control thread num&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code-a-simple-example&quot;&gt;Code, A simple example&lt;/h2&gt;

&lt;div class=&quot;language-cpp highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;#include &amp;lt;iostream&amp;gt;
#include &amp;lt;omp.h&amp;gt;
&lt;/span&gt;
&lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;#pragma omp parallel for private(i)
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Hello, World!&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\t&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;omp_get_thread_num&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;endl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;reference&quot;&gt;Reference&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/u011089523/article/details/103412177&quot;&gt;OpenMP的简单使用教程 - CSDN&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.dartmouth.edu/~rc/classes/intro_openmp/compile_run.html&quot;&gt;How to Compile and Run an OpenMP Program&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.csdn.net/ArrowYL/article/details/81094837&quot;&gt;OpenMP用法大全（个人整理版）&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>麦丽素</name></author><category term="3d" /><summary type="html">Cmake can not find OpenMP</summary></entry></feed>